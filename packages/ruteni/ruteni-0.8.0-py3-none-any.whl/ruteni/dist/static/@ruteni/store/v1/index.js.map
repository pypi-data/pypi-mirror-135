{"version":3,"file":"index.js.map","sources":["../../../../../apps/store/js/index.js"],"sourcesContent":["import logging from \"external:@ruteni/logging/v1\";\nimport \"external:@ruteni/quotquot/v1:router\";\nimport \"external:@ruteni/pwa/v1\";\nimport \"external:@ruteni/store/v1:element.store-homepage.index\";\nimport \"external:@ruteni/store/v1:element.store-settings.index\";\nimport \"external:@ruteni/store/v1:element.unknown-page.index\";\n\nimport routes from \"./routes.json\";\n\nconst logger = logging.getLogger(\"ruteni.app.store\");\n// logger.setLevel(\"WARN\");\n\nasync function main() {\n\n    const hashRouter = document.createElement(\"hash-router\");\n\n    for (const [elementName, route] of routes) {\n        const child = document.createElement(route.type);\n        child.setAttribute(\"element\", elementName);\n        child.setAttribute(\"path\", route.path);\n        if (route.keep)\n            child.setAttribute(\"keep\", \"\");\n        hashRouter.appendChild(child);\n    }\n\n    const unknownPage = document.createElement(\"unknown-page\");\n    const defaultRoute = document.createElement(\"default-route\");\n    defaultRoute.appendChild(unknownPage);\n    hashRouter.appendChild(defaultRoute);\n\n    document.body.appendChild(hashRouter);\n    logger.debug(\"configured\");\n}\n\nmain().catch(logger.error);\n\n/*\n  to trigger a csp report:\nconst script = document.createElement(\"script\");\nscript.textContent = \"console.log(\"salut\")\";\ndocument.body.appendChild(script);\n*/\n"],"names":["logger","logging","getLogger","async","hashRouter","document","createElement","elementName","route","routes","child","type","setAttribute","path","keep","appendChild","unknownPage","defaultRoute","body","debug","main","catch","error"],"mappings":"ycASA,MAAMA,EAASC,EAAQC,UAAU,qBAGjCC,iBAEI,MAAMC,EAAaC,SAASC,cAAc,eAE1C,IAAK,MAAOC,EAAaC,KAAUC,EAAQ,CACvC,MAAMC,EAAQL,SAASC,cAAcE,EAAMG,MAC3CD,EAAME,aAAa,UAAWL,GAC9BG,EAAME,aAAa,OAAQJ,EAAMK,MAC7BL,EAAMM,MACNJ,EAAME,aAAa,OAAQ,IAC/BR,EAAWW,YAAYL,GAG3B,MAAMM,EAAcX,SAASC,cAAc,gBACrCW,EAAeZ,SAASC,cAAc,iBAC5CW,EAAaF,YAAYC,GACzBZ,EAAWW,YAAYE,GAEvBZ,SAASa,KAAKH,YAAYX,GAC1BJ,EAAOmB,MAAM,eAGjBC,GAAOC,MAAMrB,EAAOsB"}