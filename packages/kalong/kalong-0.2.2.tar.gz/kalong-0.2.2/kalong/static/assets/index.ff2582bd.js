var Gt=Object.defineProperty,Vt=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ze=(e,t,r)=>t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))Pe.call(t,r)&&ze(e,r,t[r]);if(Z)for(var r of Z(t))Be.call(t,r)&&ze(e,r,t[r]);return e},A=(e,t)=>Vt(e,jt(t));var z=(e,t)=>{var r={};for(var s in e)Pe.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Z)for(var s of Z(e))t.indexOf(s)<0&&Be.call(e,s)&&(r[s]=e[s]);return r};import{u as w,j as n,P as Kt,T as G,C as qt,p as Ue,r as He,E as U,F as Qt,D as ee,V as Jt,R as Xt,l as Yt,h as We,f as Zt,d as Ge,a as Ve,k as te,c as je,b as Ke,s as qe,e as Qe,g as Je,i as Xe,m as Ye,n as Ze,o as et,q as he,t as l,v as H,w as me,x as en,y as tt,z as h,B as x,A as tn,G as nn,H as nt,I as ne,J as rt,K as rn,L as sn,M as re,N as on,O as T,W as an,Q as fe,S as ln,U as st,X as cn,Y as ot,Z as M,_ as un,$ as se,a0 as dn,a1 as at,a2 as lt,a3 as N,a4 as C,a5 as xe,a6 as pn,a7 as L,a8 as hn,a9 as mn,aa as fn,ab as it,ac as xn,ad as ct,ae as ut,af as gn,ag as dt,ah as yn,ai as bn,aj as vn,ak as Sn,al as kn,am as wn,an as Cn,ao as pt,ap as En,aq as oe,ar as Tn,as as In,at as ht,au as Fn,av as mt,aw as An,ax as Dn,ay as On,az as $n,aA as Mn,aB as Rn,aC as Ln,aD as _n,aE as Nn,aF as Pn,aG as Bn,aH as zn,aI as Un,aJ as Hn,aK as Wn,aL as Gn,aM as Vn,aN as jn,aO as ft,aP as xt,aQ as Kn,aR as qn,aS as Qn,aT as Jn,aU as Xn,aV as gt,aW as Yn,aX as Zn,aY as er,aZ as tr,a_ as nr,a$ as rr,b0 as sr,b1 as or,b2 as ar,b3 as lr,b4 as ir,b5 as cr,b6 as ur}from"./vendor.98542e71.js";const dr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};dr();const pr="HELLO",hr=()=>({type:pr,remote:!0}),yt="SET_INFO",mr="PAUSE",fr="SET_TITLE",xr="SET_THEME",bt="SET_FRAMES",gr="GET_FILE",yr=e=>({type:gr,filename:e,remote:!0}),vt="DO_COMMAND",ge=e=>({type:vt,command:e,remote:!0}),br="SET_FILE",St="SET_ACTIVE_FRAME",ye=e=>({type:St,key:e}),be="SET_PROMPT",kt=(e,t,r,s)=>({type:be,key:e,prompt:t,command:r,frame:s,remote:!0}),wt="REMOVE_PROMPT_ANSWER",vr=e=>({type:wt,key:e}),Ct="SET_CONNECTION_STATE",Et=e=>({type:Ct,state:e}),Tt="REQUEST_INSPECT",Sr=(e,t)=>({type:Tt,key:e,id:t,remote:!0}),ve="REQUEST_INSPECT_EVAL",kr=(e,t,r,s)=>({type:ve,key:e,prompt:t,command:r,frame:s,remote:!0}),Se="REQUEST_DIFF_EVAL",wr=(e,t,r,s,o)=>({type:Se,key:e,left:t,right:r,command:s,frame:o,remote:!0}),Cr="SET_ANSWER",It="CLEAR_SCROLLBACK",Er=()=>({type:It}),Tr="REQUEST_SUGGESTION",Ir=(e,t,r,s,o)=>({type:Tr,prompt:e,from:t,to:r,cursor:s,frame:o,remote:!0}),Fr="SET_SUGGESTION",Ar="CLEAR_SUGGESTION";var Dr="/assets/FiraCode-Bold.38f445df.otf",Or="/assets/FiraCode-Regular.825cd631.otf";function $r({sx:e}){const t=w(o=>o.loadingLevel),r=w(o=>o.connection.state),s=r==="closed"||r==="open"&&t===0;return n(Kt,{elevation:4,sx:[{alignSelf:"center"},...Array.isArray(e)?e:[e]],children:n(G,{title:`${t} pending request${t>1?"s":""}.`,children:n(qt,{sx:o=>({m:1,transition:o.transitions.create(["color"],{easing:o.transitions.easing.sharp,duration:o.transitions.duration.standard}),color:{connecting:Ue[200],closed:He[900]}[r]}),variant:s?"determinate":void 0,value:s?100:void 0})})})}const Mr=.2,ae=.8,Rr=.5,Lr=U.baseTheme({"& .cm-context-top":{borderTop:`1px solid rgba(0, 0, 0, ${ae})`},"& .cm-context-bottom":{borderBottom:`1px solid rgba(0, 0, 0, ${ae})`},"& .cm-context":{backgroundColor:`rgba(0, 0, 0, ${Mr})`,borderRight:`1px solid rgba(0, 0, 0, ${ae})`,borderLeft:`1px solid rgba(0, 0, 0, ${ae})`},"& .cm-context-active":{backgroundColor:`rgba(0, 0, 0, ${Rr})`}}),Ft=Qt.define({combine:e=>e.reduce((t,r)=>({active:r.active,first:Math.min(r.first,t.first),last:Math.max(r.last,t.last)}),{active:0,first:1/0,last:0})}),_r=ee.line({attributes:{class:"cm-context-active"}}),Nr=ee.line({attributes:{class:"cm-context"}}),Pr=ee.line({attributes:{class:"cm-context-top"}}),Br=ee.line({attributes:{class:"cm-context-bottom"}});function At(e){let{active:t,first:r,last:s}=e.state.facet(Ft),o=new Xt;for(let{from:a,to:d}of e.visibleRanges)for(let i=a;i<=d;){let c=e.state.doc.lineAt(i);c.number>=r&&c.number<=s&&(o.add(c.from,c.from,Nr),c.number===r&&o.add(c.from,c.from,Pr),c.number===s&&o.add(c.from,c.from,Br)),c.number===t&&o.add(c.from,c.from,_r),i=c.to+1}return o.finish()}const zr=Jt.fromClass(class{constructor(e){this.decorations=At(e)}update(e){this.decorations=At(e.view)}},{decorations:e=>e.decorations});function Ur({active:e,first:t,last:r}){return[Lr,Ft.of({active:e,first:t,last:r}),zr]}const Hr=U.theme({"&,& .cm-content":{fontFamily:'"Fira Code", monospace'}}),Wr=[Yt(),We(),Zt(),Ge(),Ve(),te.of([...je,...Ke,...qe,...Qe,...Je,...Xe,...Ye,...Ze]),et.readOnly.of(!0),U.lineWrapping,Hr,he()];var Gr=l.exports.memo(function({currentFile:t,className:r}){const s=H(),o=w(b=>b.files),{absoluteFilename:a,lineNumber:d,firstFunctionLineNumber:i,lastFunctionLineNumber:c}=t,u=l.exports.useRef(),f=o[a];l.exports.useEffect(()=>{a&&typeof f=="undefined"&&s(yr(a))},[s,o,a,f]);const m=l.exports.useMemo(()=>[...Wr,Ur({active:d,first:i,last:c})],[d,i,c]);return l.exports.useEffect(()=>{var b;if(f&&((b=u.current)==null?void 0:b.view)){const D=f.split(`
`).slice(0,d-1).join(`
`).length,{view:g}=u.current;g.dispatch(g.state.update({effects:U.scrollIntoView(D,{y:"center"})}))}},[f,d]),n(me,{ref:u,style:{flex:1},editable:!1,basicSetup:!1,theme:en,height:"100%",extensions:m,value:f})});const Dt=(e,t)=>{if(!t||!t.getBoundingClientRect)return null;const{x:r,y:s}=t.getBoundingClientRect(),o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY;return{x:o-r,y:a-s}};function Vr({children:e,className:t,vertical:r}){const[s,o]=l.exports.useState(50),[a,d]=l.exports.useState(null),i=l.exports.useRef(),c=l.exports.useCallback(m=>{d(Dt(m,i.current))},[]),u=l.exports.useCallback(m=>{if(!a)return;const b=Dt(m,i.current);if(!b)return null;const{width:D,height:g}=i.current.getBoundingClientRect();o(Math.min(100,Math.max(0,(r?b.x/D:b.y/g)*100)))},[a,r]),f=l.exports.useCallback(()=>{d(null)},[]);return tt.Children.count(e)!==2||!tt.Children.map(e,m=>!!m).every(m=>m)?e:h(x,{ref:i,sx:{display:"flex",flex:1,minHeight:0,flexDirection:r?"row":"column"},onTouchMove:u,onMouseMove:u,onTouchEnd:f,onMouseUp:f,children:[n(x,{style:{[r?"width":"height"]:`${s}%`,display:"flex",minHeight:0,minWidth:0,overflow:"hidden"},children:e[0]}),n(tn,{onClickAway:f,children:n(x,{sx:m=>({backgroundColor:m.palette.text.primary,minWidth:"6px",minHeight:"6px",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:r?"ew-resize":"ns-resize","&::before":{display:"block",content:"''",background:m.palette.background.paper,borderRadius:"15%",width:r?.5:.05,height:r?.05:.5}}),onTouchStart:c,onMouseDown:c})}),n(x,{style:{display:"flex",minHeight:0,minWidth:0,overflow:"hidden",flex:1},children:e[1]})]})}function jr(e,t,r,s){const o=t.parser.parse(e);let a=0;nn(o,nt.match,(d,i,c)=>{d>a&&r(e.slice(a,d),null,a,d),r(e.slice(d,i),c,d,i),a=i}),a!==o.length&&r(e.slice(a,o.length),null,a,o.length)}const Kr=he().language,qr=null;var E=l.exports.memo(function({sx:t,value:r="",mode:s="python",onClick:o,noBreakAll:a,noBreak:d}){const[i,c]=l.exports.useState([[r,null,0]]);return l.exports.useEffect(()=>{const u={python:Kr,diff:qr}[s];!u||!r||(c([]),jr(r,u,(f,m,b)=>{c(D=>[...D,[f,m,b]])}))},[s,r]),n(x,{component:"code",sx:[{fontFamily:'"Fira Code", monospace',whiteSpace:d?void 0:"pre-wrap",wordBreak:d||a?void 0:"break-all",overflowWrap:d||a?void 0:"break-word"},...Array.isArray(t)?t:[t]],onClick:o,children:i.map(([u,f,m])=>n("span",{className:f,children:u},m))})});const ke=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5),Qr=e=>{if(!e)return"";if(e<1e3)return`${e}ns`;if(e/=1e3,e<10)return`${e.toFixed(2)}\u03BCs`;if(e<100)return`${e.toFixed(1)}\u03BCs`;if(e<1e3)return`${e.toFixed(0)}\u03BCs`;if(e/=1e3,e<10)return`${e.toFixed(2)}ms`;if(e<100)return`${e.toFixed(1)}ms`;if(e<1e3)return`${e.toFixed(0)}ms`;if(e/=1e3,e<10)return`${e.toFixed(2)}s`;if(e<60)return`${e.toFixed(1)}s`;const t=a=>(a=a.toString(),a.length===1?`0${a}`:a);let r=Math.floor(e/60);const s=(e-60*r).toFixed(0);if(r<60)return`${r}m${t(s)}s`;const o=Math.floor(r/60);return r=(r-60*o).toFixed(0),`${o}h${t(r)}m${t(s)}s`},Jr=e=>{if(!e)return;const{top:t,bottom:r}=e.getBoundingClientRect();t<0?e.scrollIntoView():r>window.innerHeight&&e.scrollIntoView(!1)};function Xr({diff:e}){return n(E,{value:e,mode:"diff"})}function Yr({text:e}){return n(E,{sx:{color:He[400]},value:e,mode:"text"})}function K(a){var d=a,{id:e,type:t="button",children:r,sx:s}=d,o=z(d,["id","type","children","sx"]);const i=H(),c=l.exports.useCallback(()=>{i(Sr(ke(),e))},[i,e]);return n(t==="chip"?ne:rt,A(v({onClick:c,sx:[t==="button"?{minWidth:"auto",textTransform:"none",padding:0,backgroundColor:"rgba(0, 0, 0, 0.02)",display:"inline"}:{},...Array.isArray(s)?s:[s]],component:"a",color:"neutral"},o),{children:r}))}function Zr({id:e,name:t,description:r,subtype:s,traceback:o,expanded:a,i:d,onChange:i}){const c=l.exports.useCallback(()=>{i(a?null:d)},[d,a,i]);return h(rn,{expanded:a,onChange:c,children:[n(sn,{expandIcon:n(re,{}),sx:{alignItems:"center"},children:h(on,{container:!0,direction:"row",alignItems:"center",children:[n(T,{sx:{color:"error.main",p:1,pb:0},children:n(an,{})}),s!=="root"&&n(T,{color:"textSecondary",sx:{p:1,pb:0},children:s==="cause"?"Caused by":"Issued from"}),h(K,{id:e,sx:{pt:.6},children:[n(T,{variant:"h6",children:n(E,{value:t,mode:"text",noBreakAll:!0})}),n(T,{variant:"subtitle1",children:n(E,{value:" \u2015 ",mode:"text"})}),n(T,{children:n(E,{value:r,mode:"text"})})]})]})}),n(fe,{}),n(ln,{children:n(st,{children:o.map((u,f)=>n(cn,{divider:f!==o.length-1,children:n(ot,{primary:h(M,{children:[h(T,{display:"inline",color:"textSecondary",children:[" ","In"," "]}),n(T,{display:"inline",children:u.function}),h(T,{display:"inline",color:"textSecondary",children:[" ","at line"," "]}),n(T,{display:"inline",children:u.lineNumber}),h(T,{display:"inline",color:"textSecondary",children:[" ","of"," "]}),n(G,{title:u.absoluteFilename,children:n(T,{display:"inline",children:u.filename})})]}),secondary:n(E,{value:u.lineSource||"?"})})},u.key))})})]})}function es(r){var s=r,{causes:e}=s,t=z(s,["causes"]);const[o,a]=l.exports.useState(0),d=[t,...e||[]];return n(M,{children:d.map((i,c)=>n(Zr,v({i:c,expanded:o===c,onChange:a},i),i.id))})}const Ot="1em",le="3px";function $t({cls:{id:e,name:t,bases:r},first:s,last:o,root:a}){return h(x,{sx:{display:"flex",alignItems:"center"},children:[!a&&h(x,{sx:{display:"flex",flexDirection:"column",width:Ot,alignSelf:"normal"},children:[n(x,{sx:{flex:1,borderLeft:s?"none":`${le} solid black`,borderBottom:`${le} solid black`}}),n(x,{sx:{flex:1,borderLeft:s?"none":`${le} solid black`}})]}),n(x,{sx:{m:.5},children:n(K,{id:e,type:"chip",label:t,color:["object","type"].includes(t)?void 0:"secondary"})}),!!r.length&&n(x,{sx:{borderBottom:`${le} solid black`,width:Ot}}),n(x,{sx:{display:"flex",flexDirection:"column"},children:r.map((d,i)=>n($t,{cls:d,first:i===0,last:i===r.length-1},d.id))})]})}function Mt({id:e,value:t}){return n(K,{id:e,children:n(E,{value:t})})}function ts({attributes:e,doc:t,source:r,infos:s}){const[o,a]=l.exports.useState(0),d=l.exports.useCallback((i,c)=>a(c),[a]);return h(x,{children:[h(un,{value:o,onChange:d,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",children:[n(se,{label:"infos",value:0}),Object.entries(e).sort(()=>1).map(([i],c)=>n(se,{label:i,value:c+1},i)),t&&n(se,{label:"documentation",value:Object.keys(e).length+1}),r&&n(se,{label:"source",value:Object.keys(e).length+2})]}),h(dn,{axis:"x",index:o,onChangeIndex:a,children:[n(x,{sx:{maxHeight:"400px"},children:n(at,{children:h(lt,{children:[s.type?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Type"}),n(C,{children:n(ne,{label:s.type,sx:{m:.5}})})]}):null,s.bases?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Bases"}),n(C,{children:n($t,{cls:s.bases,root:!0})})]}):null,s.mro?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"MRO"}),n(C,{children:s.mro.map(({id:i,type:c})=>n(K,{id:i,type:"chip",label:c.trim(),sx:{m:.5},color:["object","type"].includes(c)?void 0:"secondary"},c))})]}):null,s.signature?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Signature"}),n(C,{children:n(E,{value:s.signature})})]}):null,s.fqn?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Full Qualified Name"}),n(C,{children:s.fqn})]}):null,h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Identity"}),h(C,{children:[s.id," (0x",s.id.toString(16),")"]})]}),s.online_doc?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Online documentation"}),n(C,{children:h(xe,{href:s.online_doc,target:"_blank",rel:"noopener noreferrer",children:[s.fqn||s.type," ",n(pn,{fontSize:"small"})]})})]}):null,s.file?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Declared in file"}),h(C,{children:[s.file,s.source_size?` (${s.source_size} lines)`:""]})]}):null,s.comments?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Comments"}),n(C,{children:n(E,{value:s.comments,mode:"text"})})]}):null]})})}),Object.entries(e).map(([i,c])=>n(x,{sx:{maxHeight:"400px"},children:n(at,{children:n(lt,{children:c.map(({key:u,value:f,id:m,signature:b})=>h(N,{children:[h(C,{sx:{wordBreak:"normal"},align:"right",children:[u,n(x,{component:"span",sx:{color:"text.secondary"},children:b})]}),n(C,{children:n(Mt,{value:f,id:m})})]},u))})})},i)),n(x,{sx:{p:3,fontSize:".7em",maxHeight:"400px"},children:n(E,{value:t,mode:"text"})}),n(x,{sx:{p:3,fontSize:".9em",maxHeight:"400px"},children:n(E,{value:r})})]})]})}function Rt({subtype:e,values:t,id:r,mapping:s}){const o=Math.max(Math.min(50,t.length/5),20),a=Math.min(t.length,o),[d,i]=l.exports.useState(!0),[c,u]=l.exports.useState(a),f=l.exports.useCallback(()=>u(F=>Math.min(t.length,F+o)),[o,t.length]),m=l.exports.useCallback(()=>u(F=>F===0?a:0),[a]),b=l.exports.useCallback(()=>u(t.length),[t.length]),D=l.exports.useCallback(()=>i(F=>!F),[]),g={list:"[",set:"{",tuple:"(",dict:"{"}[e]||`${e}(${s?"{":"["}`,k={list:"]",set:"}",tuple:")",dict:"}"}[e]||`${s?"}":"]"})`,I=t.slice(0,c);return h(x,{sx:{m:1,p:1,transition:"250ms ease-in-out box-shadow","&:hover":{boxShadow:"0 0 5px rgba(0, 0, 0, .125)"}},children:[!!t.length&&h(T,{sx:{fontSize:"0.7em",fontStyle:"italic"},color:"textSecondary",component:"span",children:["(",t.length,")"," "]}),n(K,{id:r,children:n(E,{mode:"text",value:g})}),!!t.length&&n(L,{onClick:m,sx:{p:.5},size:"large",children:c===0?n(hn,{sx:{fontSize:"16px"}}):n(mn,{sx:{fontSize:"16px"}})}),h(x,{component:"section",sx:{pl:d&&I.length>1?1:void 0,display:d&&I.length>1?void 0:"inline"},children:[I.map((F,j)=>h(x,{component:"span",sx:{whiteSpace:"pre"},children:[s?h(M,{children:[n(ie,v({},F.key)),n(E,{mode:"text",value:": "}),n(ie,v({},F.value))]}):n(ie,v({},F)),j+1!==t.length&&n(E,{mode:"text",value:", "}),d&&I.length>1&&n("br",{})]},`member-${r}-${j}`)),t.length>I.length&&h(x,{component:"span",sx:{whiteSpace:"pre"},children:[n(L,{onClick:f,sx:{p:.5},size:"large",children:n(fn,{sx:{fontSize:"16px"}})}),h(rt,{sx:{color:"text.secondary"},size:"small",component:"span",onClick:f,children:[t.length-I.length," more"]}),t.length>I.length+o&&n(L,{onClick:b,sx:{p:.5},size:"large",children:n(it,{sx:{fontSize:"16px"}})})]})]}),h(K,{id:r,children:[t.length===1&&g==="("&&n(E,{mode:"text",value:","}),n(E,{mode:"text",value:k})]}),I.length>1&&n(L,{onClick:D,sx:{p:.5},size:"large",children:d?n(xn,{sx:{fontSize:"16px"}}):n(re,{sx:{fontSize:"16px"}})})]})}function ns(e){return n(Rt,v({mapping:!0},e))}function rs({text:e}){return n(E,{value:e,mode:"text"})}const ss={out:rs,err:Yr,obj:Mt,diff:Xr,inspect:ts,iterable:Rt,mapping:ns,exception:es};function ie(r){var s=r,{type:e}=s,t=z(s,["type"]);const o=ss[e];return n(o,v({},t))}var os=l.exports.memo(function({uid:t,answer:r,duration:s,prompt:o,command:a,frame:d}){const i=H(),[c,u]=l.exports.useState(!0),m=w(k=>k.frames).find(({key:k})=>k===d),b=l.exports.useCallback(()=>u(k=>!k),[]),D=l.exports.useCallback(()=>i(ye(d)),[i,d]),g=l.exports.useCallback(()=>{i(vr(t))},[i,t]);return h(ct,{sx:{m:1,display:"flex",flexDirection:"column"},children:[n(ut,{sx:{".MuiCardHeader-content":{minWidth:0}},avatar:h(M,{children:[n(L,{sx:k=>({transform:`rotate(${c?180:0}deg)`,marginLeft:"auto",transition:k.transitions.create("transform",{duration:k.transitions.duration.shortest})}),onClick:b,size:"small",children:n(re,{})}),a&&n(ne,{label:a})]}),title:n(E,{sx:{p:.5},value:o,noBreak:!0}),titleTypographyProps:{variant:"h5",noWrap:!0},action:h(M,{children:[n(G,{title:m?`${m.absoluteFilename}:${m.lineNumber}`:"?",children:n(L,{onClick:D,size:"large",children:n(gn,{})})}),n(L,{onClick:g,size:"large",children:n(dt,{})})]})}),!!(r&&r.length)&&h(M,{children:[n(fe,{}),n(yn,{in:c,timeout:"auto",unmountOnExit:!0,children:h(bn,{sx:{display:"flex"},children:[n(T,{variant:"body1",sx:{minWidth:0,px:2,py:0,flex:1},component:"div",children:r.map((k,I)=>n(ie,v({},k),I))}),s&&n(E,{value:Qr(s),noBreakAll:!0})]})})]})]})});function as(e,t){switch(console.log(t.type),t.type){case"search":return A(v({},e),{value:"",reverse:t.reverse,insensitive:t.insensitive,index:t.index});case"found":return A(v({},e),{value:t.value,notFound:!1,highlight:t.highlight,index:t.index});case"empty":return A(v({},e),{value:"",notFound:!1,highlight:null,index:0});case"not-found":return A(v({},e),{value:t.value,notFound:!0,highlight:null});case"reset":return{value:null,insensitive:!1,reverse:!1,notFound:!1,highlight:null,index:0};default:throw new Error}}const ls={value:null,reverse:!1,insensitive:!1,notFound:!1,highlight:null,index:0},we=(e,...t)=>{let r="",s="",o=!1;for(;e.i<e.str.length&&!(t.includes(e.str[e.i])&&!s&&!o);)s&&e.str[e.i]===s?s="":!s&&!o&&["'",'"'].includes(e.str[e.i])&&(s=e.str[e.i]),!o&&!s&&e.str[e.i]==="#"&&(o=!0),o&&e.str[e.i]===`
`&&(o=!1),e.str[e.i]==="\\"&&(o||(r+=e.str[e.i]),e.i++),o||(r+=e.str[e.i]),e.i++;return r},Lt=e=>{let t=[];if(e.str[e.i]==="("){let r=e.str[e.i];for(e.i++;e.i<e.str.length&&e.str[e.i]!==")";)if(e.str[e.i]==="(")t=[...t,...Lt(e)],r+=t.slice(-1)[0];else{const s=we(e,"(",",",")");r+=s,s.trim()&&t.push(s.trim()),e.str[e.i]===","&&(r+=e.str[e.i],e.i++)}e.str[e.i]===")"&&(r+=e.str[e.i],e.i++),t.push(r)}return t},is=(e,t)=>{let r=[];const s={str:e,i:t||0};for(;s.i<s.str.length;)we(s,"("),r=[...r,...Lt(s)],s.i++;return r},cs=e=>{const t={str:e,i:0};return[we(t,"?").trim(),e.slice(t.i+1).trim()]},ce={i:"inspect",d:"diff"};function us(e,t){const r=(()=>{switch(t.type){case"new-value":return A(v({},e),{index:-1,value:t.value,transientValue:t.value,passive:!1});case"handle-up":return A(v({},e),{index:Math.min(e.index+1,t.history.length-1),value:t.history[Math.min(e.index+1,t.history.length-1)]||"",command:null,passive:!0});case"handle-down":return A(v({},e),{index:Math.max(e.index-1,-1),value:t.history[Math.max(e.index-1,-1)]||e.transientValue,command:null,passive:!0});case"jump":return A(v({},e),{index:t.index,value:t.value,command:null,passive:!0});case"toggle-command":return A(v({},e),{command:e.command===t.command?null:t.command});case"remove-command":return A(v({},e),{command:null});case"reset":return{index:-1,value:"",transientValue:"",command:null,passive:!0};default:throw new Error}})();if(r.value){const s=r.value.match(/^\?(\S+)\s(.*)/);if(s){const[,o,a]=s,d=ce[o]||o,i=Object.values(ce).includes(d)?d:null;i&&(r.value=a,r.command=i)}}return r}const ds={index:-1,value:"",transientValue:"",command:null,passive:!0},ps={module:"namespace",class:"class",instance:"variable",function:"function",param:"interface",path:"text",keyword:"keyword",property:"property",statement:"constant"},hs=e=>({token:t=>{e.lastIndex=t.pos;const r=e.exec(t.string);if(r&&r.index===t.pos)return t.pos+=r[0].length||1,"searching";r?t.pos=r.index:t.skipToEnd()}}),ms=U.theme({"&,& .cm-content, & .cm-tooltip.cm-tooltip-autocomplete > ul ":{fontFamily:'"Fira Code", monospace'},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-tooltip":{fontSize:"0.75em"}}),fs=U.theme({"& .cm-cursor":{width:"12px",border:"none",outline:"1px solid rgba(0, 0, 0, .5)",display:"block"},"&.cm-focused .cm-cursor":{background:"rgba(0, 0, 0, .75)",animation:"blink 1.5s ease-in-out infinite",outline:0}}),_t=[We(),vn(),Ge(),Sn(),et.allowMultipleSelections.of(!0),kn(),nt.fallback,wn(),Cn(),pt(),En(),Ve(),U.lineWrapping,ms,te.of([...je,...Ke,...qe,...Qe,...Je,...Xe,...Ye,...Ze]),he()];var xs=l.exports.memo(function({onScrollUp:t,onScrollDown:r,scrollToBottom:s}){const o=l.exports.useRef(),a=w(p=>p.history),d=w(p=>p.scrollback),i=w(p=>p.activeFrame),c=H(),[u,f]=l.exports.useReducer(us,ds),[m,b]=l.exports.useReducer(as,ls);l.exports.useEffect(()=>{const p=({keyCode:S})=>{if(S!==13)return;const O=getSelection().toString();if(O){const $=ke();c(kt($,O,null,i))}},y=({key:S})=>{var O;if((O=o.current)==null?void 0:O.view){const{view:$}=o.current;if($.hasFocus)return;(S.length===1||S==="Spacebar")&&$.dispatch($.state.replaceSelection(S==="Spacebar"?" ":S)),$.focus()}};return window.addEventListener("keydown",p),window.addEventListener("keyup",y),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",y)}},[i,c]);const D=l.exports.useCallback((p,y)=>{y.selectionSet&&f({type:"new-value",value:p})},[]),g=l.exports.useMemo(()=>Object.entries(ce).reduce((p,[y,S])=>(p[y]=()=>f({type:"toggle-command",command:S}),p),{}),[f]),k=l.exports.useCallback(p=>{if(p.state&&oe(p.state)==="active")return!1;if(!u.value)return!0;const y=ke();switch(u.command){case"inspect":c(kr(y,u.value,u.command,i));break;case"diff":c(wr(y,...cs(u.value),u.command,i));break;default:c(kt(y,u.value,u.command,i))}return f({type:"reset"}),!0},[i,c,u.command,u.value]),I=l.exports.useCallback(p=>oe(p.state)==="active"?!1:(f({type:"handle-up",history:a}),!0),[a]),F=l.exports.useCallback(p=>oe(p.state)==="active"?!1:(f({type:"handle-down",history:a}),!0),[a]),j=l.exports.useCallback(()=>{o.current&&o.current.view.focus()},[o]),Ce=l.exports.useCallback(p=>{if(p.state.selection.main.head===0&&u.command)return f({type:"remove-command"}),!0},[u]),zt=l.exports.useCallback(()=>(f({type:"remove-command"}),!0),[]),Ee=l.exports.useCallback(p=>{p.state.selection.main.from!==p.state.selection.main.to?window.document.execCommand("copy"):f({type:"reset"})},[]),Te=l.exports.useCallback(()=>{if(!u.value)return c(ge("kill")),!0},[c,u.value]),Ie=l.exports.useCallback(()=>(c(Er()),!0),[c]),de=l.exports.useCallback((p,y,S=null)=>{if(y&&!y.selectionSet)return;if(!p){b({type:"empty"});return}const O=new RegExp(p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),`g${m.insensitive?"i":""}`);S=S===null?m.index:S;const P=(m.reverse?a.slice(S):[...a].sort(()=>-1).slice(a.length-S-1)).findIndex(B=>B&&B.match(O));if(P===-1){b({type:"not-found",value:p});return}const R=m.reverse?S+P:S-P;b({type:"found",value:p,highlight:hs(O),index:R}),f({type:"jump",index:R,value:a[R]})},[a,m]),_=l.exports.useCallback(p=>()=>{const y=p.reset?p.reverse?u.index===-1?0:u.index:u.index===-1?a.length-1:u.index:p.reverse?m.index+1:m.index-1;return b({type:"search",reverse:p.reverse||!1,insensitive:p.insensitive||!1,reset:p.reset||!1,history:a,index:y}),de(m.value,null,y),!0},[de,a,u.index,m.index,m.value]),J=l.exports.useCallback(()=>{b({type:"reset"}),o.current&&o.current.view.focus()},[o]),[q,Fe]=l.exports.useState(null),X=l.exports.useCallback((p,y)=>{const S=a.reduce((B,pe)=>[...B,...is(pe)],[]),O=y==="up"?0:a.length-1,$=q!==null&&(y==="up"?q+1:q-1),P=p.state.selection.main.from===p.state.selection.main.to||q===null?O:$,R=S[P];R?(p.dispatch(p.state.replaceSelection(R)),p.dispatch({selection:{anchor:p.state.selection.main.head-R.length,head:p.state.selection.main.head}}),Fe(P)):p.dispatch(p.state.replaceSelection(""))},[a,q,Fe]),Ae=l.exports.useCallback(p=>{X(p,"up")},[X]),De=l.exports.useCallback(p=>{X(p,"down")},[X]),Oe=l.exports.useCallback(async p=>{let y=p.matchBefore(/\w*/);if(y.from===y.to&&!p.explicit)return null;const S=p.state.doc.lineAt(p.state.selection.main.head),O=p.state.doc.lineAt(y.from),$=p.state.doc.lineAt(y.to),P={line:S.number-1,ch:p.state.selection.main.head-S.from},R={line:O.number-1,ch:y.from-O.from},B={line:$.number-1,ch:y.to-$.from};if(!u.value.includes(" ")&&u.value.startsWith("?"))return{from:y.from,options:Object.values(ce).map(W=>({label:`?${W}`,type:"namespace"}))};c(Ir(u.value,R,B,P,i));const pe=await Promise.race([new Promise(W=>setTimeout(()=>W([]),5e3)),new Promise(W=>{const Re=Q.subscribe((...Le)=>{const{suggestions:{prompt:Y,from:_e,to:Ne,suggestion:Wt}}=Q.getState();Y===u.value&&R.line===_e.line&&R.ch===_e.ch&&B.line===Ne.line&&B.ch===Ne.ch&&(W(Wt.list),Re())})})]);return{from:y.from,options:pe.map(({text:W,description:Re,docstring:Le,type:Y})=>({label:W,info:Le,type:ps[Y]||Y}))}},[i,c,u.value]),$e=l.exports.useCallback(p=>{const y=p.state.selection.main.head;return u.value.slice(0,y).split(`
`).slice(-1)[0].match(/^\s*$/)?!1:(oe(p.state)==="active"?Tn(p):In(p),!0)},[u.value]),Me=d.length===0||d.slice(-1)[0].answer!==null,Ut=l.exports.useMemo(()=>[ht.highest(te.of([{key:"ArrowUp",run:I,preventDefault:!0},{key:"ArrowDown",run:F,preventDefault:!0},{key:"Enter",run:k,preventDefault:!0},{key:"Backspace",run:Ce,preventDefault:!0},{key:"Tab",run:$e,preventDefault:!0},{key:"Ctrl-c",run:Ee,preventDefault:!0},{key:"Ctrl-d",run:Te,preventDefault:!0},{key:"Ctrl-l",run:Ie,preventDefault:!0},{key:"Ctrl-r",run:_({reverse:!0,reset:!0}),preventDefault:!0},{key:"Ctrl-s",run:_({reset:!0}),preventDefault:!0},{key:"Shift-Ctrl-r",run:_({reverse:!0,insensitive:!0,reset:!0}),preventDefault:!0},{key:"Shift-Ctrl-s",run:_({insensitive:!0,reset:!0}),preventDefault:!0},{key:"Shift-PageUp",run:t,preventDefault:!0},{key:"Shift-PageDown",run:r,preventDefault:!0},{key:"Alt-ArrowUp",run:Ae,preventDefault:!0},{key:"Alt-ArrowDown",run:De,preventDefault:!0},{key:"Alt-i",run:g.i,preventDefault:!0},{key:"Alt-d",run:g.d,preventDefault:!0}])),pt({override:[Oe]}),fs,..._t],[Oe,Ce,Ie,g.d,g.i,Te,F,k,De,Ae,Ee,_,$e,I,r,t]),Ht=l.exports.useMemo(()=>[U.domEventHandlers({blur:J}),ht.highest(te.of([{key:"Enter",run:J,preventDefault:!0},{key:"Escape",run:J,preventDefault:!0},{key:"Ctrl-r",run:_({reverse:!0}),preventDefault:!0},{key:"Ctrl-s",run:_({}),preventDefault:!0},{key:"Shift-Ctrl-r",run:_({reverse:!0,insensitive:!0}),preventDefault:!0},{key:"Shift-Ctrl-s",run:_({insensitive:!0}),preventDefault:!0}])),..._t],[_,J]);return l.exports.useEffect(()=>{var p;if(((p=o.current)==null?void 0:p.view)&&u.passive){const{view:y}=o.current;y.dispatch({selection:{anchor:u.value.length}})}},[u.value,u.passive]),n(Fn,{in:Me,exit:!1,mountOnEnter:!0,unmountOnExit:!0,onEntered:j,children:n(ct,{raised:!0,sx:{m:1},children:n(ut,{avatar:h(M,{children:[n(L,{sx:p=>({transform:`rotate(${Me?270:0}deg)`,marginLeft:"auto",transition:p.transitions.create("transform",{duration:p.transitions.duration.shortest})}),onClick:k,size:"small",children:n(re,{})}),u.command&&n(ne,{label:u.command,onDelete:zt})]}),title:h(M,{children:[n(me,{ref:o,value:u.value,basicSetup:!1,theme:"light",onChange:D,height:"auto",extensions:Ut,width:"100%",onUpdate:s}),m.value!==null&&h(x,{component:"label",sx:{fontSize:".5em",color:m.notFound?"error.main":"text.secondary",display:"flex",alignItems:"center"},children:[h(x,{component:"span",sx:{px:0,py:.5},children:[m.insensitive&&"I-","Search"," ",m.reverse?"backward":"forward",":"]}),n(me,{value:m.value,height:"auto",autoFocus:!0,basicSetup:!1,extensions:Ht,width:"100%",onChange:de})]})]}),titleTypographyProps:{variant:"h5"}})})})}),gs=l.exports.memo(function({className:t}){const r=w(i=>i.scrollback),s=l.exports.useRef(),o=l.exports.useCallback(()=>{s.current.scrollTop-=300},[s]),a=l.exports.useCallback(()=>{s.current.scrollTop+=300},[s]),d=l.exports.useCallback(()=>{s.current.scrollTop=s.current.scrollHeight},[]);return h(x,{sx:{flex:1,overflowY:"auto",scrollBehavior:"smooth"},ref:s,children:[r.map(u=>{var f=u,{key:i}=f,c=z(f,["key"]);return n(os,v({uid:i},c),i)}),n(xs,{onScrollUp:o,onScrollDown:a,scrollToBottom:d})]})});function ys(){const e=mt("(min-aspect-ratio: 1/1)"),t=w(o=>o.frames),r=w(o=>o.activeFrame),s=t.find(({key:o})=>o===r);return h(x,{component:"main",sx:o=>({flexGrow:1,display:"flex",flexDirection:"column",zIndex:o.zIndex.drawer+1,minWidth:0}),children:[n(x,{sx:o=>o.mixins.toolbar}),h(Vr,{vertical:e,children:[s&&n(Gr,{currentFile:s}),n(gs,{})]})]})}var bs=l.exports.memo(function({frame:t,last:r}){const s=w(d=>d.activeFrame),o=H(),a=l.exports.useCallback(()=>{o(ye(t.key))},[o,t.key]);return h(An,{divider:!r,selected:t.key===s,onClick:a,children:[n(ot,{primary:t.function,secondary:h(M,{children:[n(E,{value:t.lineSource}),n(G,{title:t.absoluteFilename,children:h(T,{variant:"body2",display:"block",component:"span",noWrap:!0,children:[t.filename,":",t.lineNumber]})})]})}),n(Dn,{children:t.active&&n(G,{title:"Current Frame",children:n("div",{children:n(On,{fontSize:"small"})})})})]})}),vs=l.exports.memo(function(){const t=w(a=>a.frames),r=w(a=>a.activeFrame),s=l.exports.useRef(),o=H();return l.exports.useEffect(()=>{t.length&&o(ye(t[0].key))},[o,t]),l.exports.useEffect(()=>{if(s.current){const a=s.current.querySelectorAll(".Mui-selected");a.length&&Jr(a[0])}},[r]),n(st,{ref:s,sx:{p:0},children:t.map((a,d)=>n(bs,{frame:a,last:d===t.length-1},a.key))})});const ue=240;function Ss({rtl:e,open:t,mobile:r,onDrawerClose:s}){return h($n,{sx:o=>({width:{sm:ue,md:t?ue:0},"& .MuiPaper-root":{width:{sm:ue,md:t?ue:0}},flexShrink:{sm:0,md:null},transition:o.transitions.create("width",{easing:o.transitions.easing.sharp,duration:o.transitions.duration[t?"enteringScreen":"leavingScreen"]}),overflow:t?void 0:"hidden"}),open:t,variant:r?"temporary":"persistent",anchor:e?"right":"left",onClose:s,children:[n(x,{sx:o=>A(v({},o.mixins.toolbar),{display:"flex"}),children:h(x,{sx:{p:1,display:"flex",alignItems:"baseline",width:"100%",justifyContent:"space-around"},children:[n(xe,{href:"http://github.com/paradoxxxzero/kalong/",underline:"hover",children:h(T,{variant:"h1",sx:{fontSize:"2.25em","&:hover span":{display:"inline-block","&.K":{transform:"rotate3d(0, 0, 1, -90deg) translate(-8.5px, 0px)",textDecoration:"none"},"&.o":{transform:"rotate3d(0, 1, 0, 180deg)",textDecoration:"underline"},transformOrigin:"center"}},children:[n(x,{component:"span",className:"K",sx:{transform:"rotate3d(0, 1, 0, 0deg)",transition:"transform 500ms",marginLeft:"-1px"},children:"K"}),"al",n(x,{component:"span",className:"o",sx:{transform:"rotate3d(0, 1, 0, 0deg)",transition:"transform 500ms",marginLeft:"-1px"},children:"o"}),"ng"]})}),n(xe,{href:"http://github.com/paradoxxxzero/kalong/releases",underline:"hover",children:n(T,{variant:"subtitle1",sx:{fontSize:"1.25em"},children:"v0.2.2"})})]})}),n(fe,{}),n(vs,{})]})}const Nt=(e,t)=>[e?t?{label:"Pause the program",action:"pause",Icon:Mn,key:"F8",disabled:!1}:null:{label:"Continue the program",action:"continue",Icon:Rn,key:"F8",disabled:!1},{label:"Step to the next instruction",action:"step",Icon:Ln,key:"F9",disabled:e},{label:"Step Until next line (bypass loops)",action:"stepUntil",Icon:_n,key:"F10",disabled:e},{label:"Step Into function call",action:"stepInto",Icon:Nn,key:"F11",disabled:e},{label:"Step Out of the current function",action:"stepOut",Icon:Pn,key:"Shift+F11",disabled:e},{label:"Trace the program (stop at every exception)",action:"trace",Icon:Bn,key:"Shift+F12",disabled:e},{label:"Run the program",action:"run",Icon:zn,key:"F12",disabled:e},{label:"StopDebugging",action:"stop",Icon:Un,key:"Esc",disabled:e},{label:"Exit program",action:"kill",Icon:dt,key:"Shift+Esc",disabled:!1}].filter(r=>r),ks=({action:{label:e,action:t,disabled:r,Icon:s},handleCommand:o})=>h(Wn,{onClick:o,disabled:r,"data-action":t,children:[n(Gn,{children:n(s,{})}),n(T,{variant:"inherit",noWrap:!0,children:e})]}),ws=({action:{key:e,label:t,action:r,disabled:s,Icon:o},handleCommand:a})=>n(G,{title:`${t} [${e}]`,children:n("span",{children:n(L,{color:"inherit",onClick:a,disabled:s,"data-action":r,size:"large",children:n(o,{})})})});var Cs=l.exports.memo(function({mobile:t}){const r=w(g=>g.title),s=w(g=>g.frames),o=w(g=>g.running),a=w(g=>g.main),d=H(),[i,c]=l.exports.useState(null),u=l.exports.useCallback(g=>d(ge(g.currentTarget.getAttribute("data-action"))),[d]);l.exports.useEffect(()=>{const g=k=>{let{code:I}=k;k.shiftKey&&(I=`Shift+${I}`);const F=Nt(o).find(({key:j})=>I===j);!F||(d(ge(F.action)),k.preventDefault())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[o,d]);const f=l.exports.useCallback(()=>c(null),[]),m=l.exports.useCallback(({currentTarget:g})=>c(g),[]);l.exports.useLayoutEffect(()=>{!t&&i&&f()});const b=t?ks:ws,D=Nt(o,a).map(g=>n(b,{action:g,handleCommand:u},g.action));return h(M,{children:[n(T,{variant:"h6",color:"inherit",noWrap:!0,children:r}),!!s.length&&h(M,{children:[n(x,{sx:{flexGrow:1}}),t?h(M,{children:[n(L,{onClick:m,size:"large",children:n(it,{})}),n(Hn,{anchorEl:i,open:!!i,onClose:f,children:D})]}):n(x,{sx:{whiteSpace:"pre"},children:D})]})]})});const Pt=240;function Es({rtl:e,open:t,mobile:r,onDrawerOpen:s,onDrawerClose:o}){return n(Vn,{sx:a=>({zIndex:a.zIndex.drawer+2,transition:`${a.transitions.create(["margin","width"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration[t&&!r?"enteringScreen":"leavingScreen"]})},${a.transitions.create(["background-color","color"],{easing:a.transitions.easing.easeInOut,duration:a.transitions.duration.normal})}`,width:t&&!r?`calc(100% - ${Pt}px)`:void 0,marginLeft:t&&!r?Pt:void 0}),position:"fixed",children:h(jn,{children:[n(G,{title:`${t?"Close":"Open"} the call stack`,children:n(L,{color:"inherit",onClick:t?o:s,sx:{mr:2.5},size:"large",children:!r&&t?e?n(ft,{}):n(xt,{}):e?n(xt,{}):n(ft,{})})}),n(Cs,{mobile:r})]})})}function Ts(){const e=Kn(),t=mt(e.breakpoints.down("md")),r=H(),s=w(u=>u.running),o=w(u=>u.frames),[a,d]=l.exports.useState(!t);l.exports.useEffect(()=>{r(hr())},[r]),l.exports.useEffect(()=>{d(!t&&!!o.length)},[t,o]);const i=l.exports.useCallback(()=>d(!0),[]),c=l.exports.useCallback(()=>d(!1),[]);return h(x,{sx:{display:"flex",width:"100vw",height:"100vh",justifyContent:"center",fontVariant:"oldstyle-nums",transition:"filter 500ms ease-in",filter:s?"grayscale(100%)":void 0},children:[n(qn,{styles:{"@global":{"@font-face":[{fontFamily:"Fira Code",fontWeight:"normal",fontStyle:"normal",src:`url(${Or}) format("opentype")`},{fontFamily:"Fira Code",fontWeight:"bold",fontStyle:"normal",src:`url(${Dr}) format("opentype")`}]}}}),n(Qn,{}),n(Es,{mobile:t,open:a,rtl:e.direction==="rtl",onDrawerOpen:i,onDrawerClose:c}),n(Ss,{mobile:t,open:a,rtl:e.direction==="rtl",onDrawerClose:c}),n(ys,{}),n($r,{sx:{position:"fixed",right:"1em",bottom:"1em"}})]})}const V=e=>Xn({palette:{action:{selectedOpacity:.15},primary:{main:e},secondary:{main:Ue.A400},neutral:{main:gt[700]}},mixins:{toolbar:{minHeight:56,"@media (min-width:600px)":{minHeight:64}}}}),Bt={init:V(Jn[500]),line:V(Yn[600]),call:V(Zn[500]),return:V(er[700]),exception:V(tr[500]),shell:V(nr[500]),dead:V(gt[600])};function Is(){const e=w(t=>t.theme);return n(rr,{injectFirst:!0,children:n(sr,{theme:Bt[e]||Bt.line,children:n(Ts,{})})})}const Fs=(e={},t)=>{switch(t.type){case yt:return t.config;default:return e}},As=(e="Initializing",t)=>{switch(t.type){case fr:return t.title;default:return e}},Ds=(e=[],t)=>{switch(t.type){case bt:return t.frames;default:return e}},Os=(e={},t)=>{switch(t.type){case br:return A(v({},e),{[t.filename]:t.source});default:return e}},$s=(e=null,t)=>{let r;switch(t.type){case bt:return r=t.frames.find(({active:s})=>s),r?r.key:e;case St:return t.key;default:return e}},Ms=(e=[],t)=>{switch(t.type){case be:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case wt:return e.filter(r=>t.key!==r.key);case Tt:return[...e,{key:t.key,prompt:`${t.id}\u2026`,answer:null}];case ve:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case Cr:return e.map(r=>t.key===r.key?{key:t.key,prompt:t.prompt,command:t.command,answer:t.answer,frame:t.frame,duration:t.duration}:r);case Se:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case It:return[];default:return e}},Rs=(e={state:"connecting"},t)=>{switch(t.type){case Ct:return A(v({},e),{state:t.state});default:return e}},Ls=(e=0,t)=>t.remote?e+1:t.local?e-1:e,_s=(e=!1,t)=>t.type===vt?!0:t.type===mr?!1:e,Ns=(e=[],t)=>{switch(t.type){case be:return[t.prompt,...e.filter(r=>r!==t.prompt)];case ve:return[`?i ${t.prompt}`,...e.filter(r=>r!==`?i ${t.prompt}`)];case Se:return[`?d ${t.left} ? ${t.right}`,...e.filter(r=>r!==`?d ${t.left} ? ${t.right}`)];default:return e}},Ps=(e={},t)=>{switch(t.type){case Fr:return{prompt:t.prompt,from:t.from,to:t.to,suggestion:t.suggestion};case Ar:return{};default:return e}},Bs=(e="init",t)=>{switch(t.type){case xr:return t.theme;default:return e}},zs=(e=!0,t)=>{switch(t.type){case yt:return t.main;default:return e}};var Us=or({config:Fs,title:As,frames:Ds,files:Os,activeFrame:$s,scrollback:Ms,history:Ns,suggestions:Ps,theme:Bs,connection:Rs,loadingLevel:Ls,running:_s,main:zs});function Hs(e){let t=!1;const r=["debug","info"].includes(e.getState().config.log),s=[],o=()=>new WebSocket(`${window.location.protocol.replace("http","ws")}//${window.location.host.replace(59998,59999)}${window.location.pathname}`);let a=window.ws=o();return a.onopen=()=>{for(e.dispatch(Et("open"));s.length;)a.send(s.shift())},a.onmessage=({data:d})=>{const i=JSON.parse(d);if(r){const c=i,{type:u}=c,f=z(c,["type"]);console&&console.log("->",u,f)}e.dispatch(i)},a.onclose=()=>{e.dispatch(Et("closed")),setTimeout(()=>t||window.close(),10)},window.addEventListener("beforeunload",function(d){if(delete d.returnValue,a.readyState===WebSocket.OPEN)try{t=!0,a.close()}catch{}}),d=>i=>{if(i.remote){const f=JSON.stringify(i);if(a.readyState===1){if(r){const c=i,{type:m}=c,b=z(c,["type"]);console&&console.log("<-",m,b)}a.send(f)}else{if(r){const u=i,{type:m}=u,b=z(u,["type"]);console&&console.log("><",m,b)}s.push(f),a.readyState===3&&(a=window.ws=o())}}return d(i)}}const Q=ar(Us,{history:JSON.parse(localStorage.getItem("history")||"[]")},(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||lr)(ir(Hs)));Q.subscribe(()=>{localStorage.setItem("history",JSON.stringify(Q.getState().history))});const Ws=()=>{cr.exports.render(n(ur,{store:Q,children:n(Is,{})}),document.getElementById("root"))};Ws();
