var Wt=Object.defineProperty,Gt=Object.defineProperties;var Vt=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var Pe=(e,t,r)=>t in e?Wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))_e.call(t,r)&&Pe(e,r,t[r]);if(Y)for(var r of Y(t))Ne.call(t,r)&&Pe(e,r,t[r]);return e},A=(e,t)=>Gt(e,Vt(t));var z=(e,t)=>{var r={};for(var o in e)_e.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Y)for(var o of Y(e))t.indexOf(o)<0&&Ne.call(e,o)&&(r[o]=e[o]);return r};import{u as k,j as n,P as jt,T as G,C as Kt,p as Be,r as ze,E as U,F as qt,D as Z,V as Qt,R as Jt,l as Xt,h as Ue,f as Yt,d as He,a as We,k as ee,c as Ge,b as Ve,s as je,e as Ke,g as qe,i as Qe,m as Je,n as Xe,o as Ye,q as he,t as l,v as H,w as me,x as Zt,y as Ze,z as h,B as x,A as en,G as tn,H as et,I as te,J as tt,K as nn,L as rn,M as ne,N as on,O as T,W as sn,Q as fe,S as an,U as nt,X as ln,Y as rt,Z as $,_ as cn,$ as re,a0 as un,a1 as ot,a2 as st,a3 as N,a4 as C,a5 as xe,a6 as dn,a7 as L,a8 as pn,a9 as hn,aa as mn,ab as at,ac as fn,ad as lt,ae as it,af as xn,ag as ct,ah as gn,ai as yn,aj as bn,ak as vn,al as Sn,am as wn,an as kn,ao as ut,ap as Cn,aq as ge,ar as dt,as as En,at as pt,au as Tn,av as In,aw as Fn,ax as An,ay as Dn,az as On,aA as Mn,aB as $n,aC as Rn,aD as Ln,aE as _n,aF as Nn,aG as Pn,aH as Bn,aI as zn,aJ as Un,aK as Hn,aL as Wn,aM as ht,aN as mt,aO as Gn,aP as Vn,aQ as jn,aR as Kn,aS as qn,aT as ft,aU as Qn,aV as Jn,aW as Xn,aX as Yn,aY as Zn,aZ as er,a_ as tr,a$ as nr,b0 as rr,b1 as or,b2 as sr,b3 as ar,b4 as lr}from"./vendor.cb1e4e17.js";const ir=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};ir();const cr="HELLO",ur=()=>({type:cr,remote:!0}),xt="SET_INFO",dr="PAUSE",pr="SET_TITLE",hr="SET_THEME",gt="SET_FRAMES",mr="GET_FILE",fr=e=>({type:mr,filename:e,remote:!0}),yt="DO_COMMAND",ye=e=>({type:yt,command:e,remote:!0}),xr="SET_FILE",bt="SET_ACTIVE_FRAME",be=e=>({type:bt,key:e}),ve="SET_PROMPT",vt=(e,t,r,o)=>({type:ve,key:e,prompt:t,command:r,frame:o,remote:!0}),St="REMOVE_PROMPT_ANSWER",gr=e=>({type:St,key:e}),wt="SET_CONNECTION_STATE",kt=e=>({type:wt,state:e}),Ct="REQUEST_INSPECT",yr=(e,t)=>({type:Ct,key:e,id:t,remote:!0}),Se="REQUEST_INSPECT_EVAL",br=(e,t,r,o)=>({type:Se,key:e,prompt:t,command:r,frame:o,remote:!0}),we="REQUEST_DIFF_EVAL",vr=(e,t,r,o,s)=>({type:we,key:e,left:t,right:r,command:o,frame:s,remote:!0}),Sr="SET_ANSWER",Et="CLEAR_SCROLLBACK",wr=()=>({type:Et}),kr="REQUEST_SUGGESTION",Cr=(e,t,r,o,s)=>({type:kr,prompt:e,from:t,to:r,cursor:o,frame:s,remote:!0}),Er="SET_SUGGESTION",Tr="CLEAR_SUGGESTION";var Ir="/assets/FiraCode-Bold.38f445df.otf",Fr="/assets/FiraCode-Regular.825cd631.otf";function Ar({sx:e}){const t=k(s=>s.loadingLevel),r=k(s=>s.connection.state),o=r==="closed"||r==="open"&&t===0;return n(jt,{elevation:4,sx:[{alignSelf:"center"},...Array.isArray(e)?e:[e]],children:n(G,{title:`${t} pending request${t>1?"s":""}.`,children:n(Kt,{sx:s=>({m:1,transition:s.transitions.create(["color"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.standard}),color:{connecting:Be[200],closed:ze[900]}[r]}),variant:o?"determinate":void 0,value:o?100:void 0})})})}const Dr=.2,oe=.8,Or=.5,Mr=U.baseTheme({"& .cm-context-top":{borderTop:`1px solid rgba(0, 0, 0, ${oe})`},"& .cm-context-bottom":{borderBottom:`1px solid rgba(0, 0, 0, ${oe})`},"& .cm-context":{backgroundColor:`rgba(0, 0, 0, ${Dr})`,borderRight:`1px solid rgba(0, 0, 0, ${oe})`,borderLeft:`1px solid rgba(0, 0, 0, ${oe})`},"& .cm-context-active":{backgroundColor:`rgba(0, 0, 0, ${Or})`}}),Tt=qt.define({combine:e=>e.reduce((t,r)=>({active:r.active,first:Math.min(r.first,t.first),last:Math.max(r.last,t.last)}),{active:0,first:1/0,last:0})}),$r=Z.line({attributes:{class:"cm-context-active"}}),Rr=Z.line({attributes:{class:"cm-context"}}),Lr=Z.line({attributes:{class:"cm-context-top"}}),_r=Z.line({attributes:{class:"cm-context-bottom"}});function It(e){let{active:t,first:r,last:o}=e.state.facet(Tt),s=new Jt;for(let{from:a,to:u}of e.visibleRanges)for(let i=a;i<=u;){let c=e.state.doc.lineAt(i);c.number>=r&&c.number<=o&&(s.add(c.from,c.from,Rr),c.number===r&&s.add(c.from,c.from,Lr),c.number===o&&s.add(c.from,c.from,_r)),c.number===t&&s.add(c.from,c.from,$r),i=c.to+1}return s.finish()}const Nr=Qt.fromClass(class{constructor(e){this.decorations=It(e)}update(e){this.decorations=It(e.view)}},{decorations:e=>e.decorations});function Pr({active:e,first:t,last:r}){return[Mr,Tt.of({active:e,first:t,last:r}),Nr]}const Br=U.theme({"&,& .cm-content":{fontFamily:'"Fira Code", monospace'}}),zr=[Xt(),Ue(),Yt(),He(),We(),ee.of([...Ge,...Ve,...je,...Ke,...qe,...Qe,...Je,...Xe]),Ye.readOnly.of(!0),U.lineWrapping,Br,he()];var Ur=l.exports.memo(function({currentFile:t,className:r}){const o=H(),s=k(b=>b.files),{absoluteFilename:a,lineNumber:u,firstFunctionLineNumber:i,lastFunctionLineNumber:c}=t,d=l.exports.useRef(),f=s[a];l.exports.useEffect(()=>{a&&typeof f=="undefined"&&o(fr(a))},[o,s,a,f]);const m=l.exports.useMemo(()=>[...zr,Pr({active:u,first:i,last:c})],[u,i,c]);return l.exports.useEffect(()=>{var b;if(f&&((b=d.current)==null?void 0:b.view)){const D=f.split(`
`).slice(0,u-1).join(`
`).length,{view:g}=d.current;g.dispatch(g.state.update({effects:U.scrollIntoView(D,{y:"center"})}))}},[f,u]),n(me,{ref:d,style:{flex:1},editable:!1,basicSetup:!1,theme:Zt,height:"100%",extensions:m,value:f})});const Ft=(e,t)=>{if(!t||!t.getBoundingClientRect)return null;const{x:r,y:o}=t.getBoundingClientRect(),s=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY;return{x:s-r,y:a-o}};function Hr({children:e,className:t,vertical:r}){const[o,s]=l.exports.useState(50),[a,u]=l.exports.useState(null),i=l.exports.useRef(),c=l.exports.useCallback(m=>{u(Ft(m,i.current))},[]),d=l.exports.useCallback(m=>{if(!a)return;const b=Ft(m,i.current);if(!b)return null;const{width:D,height:g}=i.current.getBoundingClientRect();s(Math.min(100,Math.max(0,(r?b.x/D:b.y/g)*100)))},[a,r]),f=l.exports.useCallback(()=>{u(null)},[]);return Ze.Children.count(e)!==2||!Ze.Children.map(e,m=>!!m).every(m=>m)?e:h(x,{ref:i,sx:{display:"flex",flex:1,minHeight:0,flexDirection:r?"row":"column"},onTouchMove:d,onMouseMove:d,onTouchEnd:f,onMouseUp:f,children:[n(x,{style:{[r?"width":"height"]:`${o}%`,display:"flex",minHeight:0,minWidth:0,overflow:"hidden"},children:e[0]}),n(en,{onClickAway:f,children:n(x,{sx:m=>({backgroundColor:m.palette.text.primary,minWidth:"6px",minHeight:"6px",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:r?"ew-resize":"ns-resize","&::before":{display:"block",content:"''",background:m.palette.background.paper,borderRadius:"15%",width:r?.5:.05,height:r?.05:.5}}),onTouchStart:c,onMouseDown:c})}),n(x,{style:{display:"flex",minHeight:0,minWidth:0,overflow:"hidden",flex:1},children:e[1]})]})}function Wr(e,t,r,o){const s=t.parser.parse(e);let a=0;tn(s,et.match,(u,i,c)=>{u>a&&r(e.slice(a,u),null,a,u),r(e.slice(u,i),c,u,i),a=i}),a!==s.length&&r(e.slice(a,s.length),null,a,s.length)}const Gr=he().language,Vr=null;var E=l.exports.memo(function({sx:t,value:r="",mode:o="python",onClick:s,noBreakAll:a,noBreak:u}){const[i,c]=l.exports.useState([[r,null,0]]);return l.exports.useEffect(()=>{const d={python:Gr,diff:Vr}[o];!d||!r||(c([]),Wr(r,d,(f,m,b)=>{c(D=>[...D,[f,m,b]])}))},[o,r]),n(x,{component:"code",sx:[{fontFamily:'"Fira Code", monospace',whiteSpace:u?void 0:"pre-wrap",wordBreak:u||a?void 0:"break-all",overflowWrap:u||a?void 0:"break-word"},...Array.isArray(t)?t:[t]],onClick:s,children:i.map(([d,f,m])=>n("span",{className:f,children:d},m))})});const ke=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5),jr=e=>{if(!e)return"";if(e<1e3)return`${e}ns`;if(e/=1e3,e<10)return`${e.toFixed(2)}\u03BCs`;if(e<100)return`${e.toFixed(1)}\u03BCs`;if(e<1e3)return`${e.toFixed(0)}\u03BCs`;if(e/=1e3,e<10)return`${e.toFixed(2)}ms`;if(e<100)return`${e.toFixed(1)}ms`;if(e<1e3)return`${e.toFixed(0)}ms`;if(e/=1e3,e<10)return`${e.toFixed(2)}s`;if(e<60)return`${e.toFixed(1)}s`;const t=a=>(a=a.toString(),a.length===1?`0${a}`:a);let r=Math.floor(e/60);const o=(e-60*r).toFixed(0);if(r<60)return`${r}m${t(o)}s`;const s=Math.floor(r/60);return r=(r-60*s).toFixed(0),`${s}h${t(r)}m${t(o)}s`},Kr=e=>{if(!e)return;const{top:t,bottom:r}=e.getBoundingClientRect();t<0?e.scrollIntoView():r>window.innerHeight&&e.scrollIntoView(!1)};function qr({diff:e}){return n(E,{value:e,mode:"diff"})}function Qr({text:e}){return n(E,{sx:{color:ze[400]},value:e,mode:"text"})}function K(a){var u=a,{id:e,type:t="button",children:r,sx:o}=u,s=z(u,["id","type","children","sx"]);const i=H(),c=l.exports.useCallback(()=>{i(yr(ke(),e))},[i,e]);return n(t==="chip"?te:tt,A(v({onClick:c,sx:[t==="button"?{minWidth:"auto",textTransform:"none",padding:0,backgroundColor:"rgba(0, 0, 0, 0.02)",display:"inline"}:{},...Array.isArray(o)?o:[o]],component:"a",color:"neutral"},s),{children:r}))}function Jr({id:e,name:t,description:r,subtype:o,traceback:s,expanded:a,i:u,onChange:i}){const c=l.exports.useCallback(()=>{i(a?null:u)},[u,a,i]);return h(nn,{expanded:a,onChange:c,children:[n(rn,{expandIcon:n(ne,{}),sx:{alignItems:"center"},children:h(on,{container:!0,direction:"row",alignItems:"center",children:[n(T,{sx:{color:"error.main",p:1,pb:0},children:n(sn,{})}),o!=="root"&&n(T,{color:"textSecondary",sx:{p:1,pb:0},children:o==="cause"?"Caused by":"Issued from"}),h(K,{id:e,sx:{pt:.6},children:[n(T,{variant:"h6",children:n(E,{value:t,mode:"text",noBreakAll:!0})}),n(T,{variant:"subtitle1",children:n(E,{value:" \u2015 ",mode:"text"})}),n(T,{children:n(E,{value:r,mode:"text"})})]})]})}),n(fe,{}),n(an,{children:n(nt,{children:s.map((d,f)=>n(ln,{divider:f!==s.length-1,children:n(rt,{primary:h($,{children:[h(T,{display:"inline",color:"textSecondary",children:[" ","In"," "]}),n(T,{display:"inline",children:d.function}),h(T,{display:"inline",color:"textSecondary",children:[" ","at line"," "]}),n(T,{display:"inline",children:d.lineNumber}),h(T,{display:"inline",color:"textSecondary",children:[" ","of"," "]}),n(G,{title:d.absoluteFilename,children:n(T,{display:"inline",children:d.filename})})]}),secondary:n(E,{value:d.lineSource||"?"})})},d.key))})})]})}function Xr(r){var o=r,{causes:e}=o,t=z(o,["causes"]);const[s,a]=l.exports.useState(0),u=[t,...e||[]];return n($,{children:u.map((i,c)=>n(Jr,v({i:c,expanded:s===c,onChange:a},i),i.id))})}const At="1em",se="3px";function Dt({cls:{id:e,name:t,bases:r},first:o,last:s,root:a}){return h(x,{sx:{display:"flex",alignItems:"center"},children:[!a&&h(x,{sx:{display:"flex",flexDirection:"column",width:At,alignSelf:"normal"},children:[n(x,{sx:{flex:1,borderLeft:o?"none":`${se} solid black`,borderBottom:`${se} solid black`}}),n(x,{sx:{flex:1,borderLeft:o?"none":`${se} solid black`}})]}),n(x,{sx:{m:.5},children:n(K,{id:e,type:"chip",label:t,color:["object","type"].includes(t)?void 0:"secondary"})}),!!r.length&&n(x,{sx:{borderBottom:`${se} solid black`,width:At}}),n(x,{sx:{display:"flex",flexDirection:"column"},children:r.map((u,i)=>n(Dt,{cls:u,first:i===0,last:i===r.length-1},u.id))})]})}function Ot({id:e,value:t}){return n(K,{id:e,children:n(E,{value:t})})}function Yr({attributes:e,doc:t,source:r,infos:o}){const[s,a]=l.exports.useState(0),u=l.exports.useCallback((i,c)=>a(c),[a]);return h(x,{children:[h(cn,{value:s,onChange:u,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",children:[n(re,{label:"infos",value:0}),Object.entries(e).sort(()=>1).map(([i],c)=>n(re,{label:i,value:c+1},i)),t&&n(re,{label:"documentation",value:Object.keys(e).length+1}),r&&n(re,{label:"source",value:Object.keys(e).length+2})]}),h(un,{axis:"x",index:s,onChangeIndex:a,children:[n(x,{sx:{maxHeight:"400px"},children:n(ot,{children:h(st,{children:[o.type?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Type"}),n(C,{children:n(te,{label:o.type,sx:{m:.5}})})]}):null,o.bases?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Bases"}),n(C,{children:n(Dt,{cls:o.bases,root:!0})})]}):null,o.mro?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"MRO"}),n(C,{children:o.mro.map(({id:i,type:c})=>n(K,{id:i,type:"chip",label:c.trim(),sx:{m:.5},color:["object","type"].includes(c)?void 0:"secondary"},c))})]}):null,o.signature?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Signature"}),n(C,{children:n(E,{value:o.signature})})]}):null,o.fqn?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Full Qualified Name"}),n(C,{children:o.fqn})]}):null,h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Identity"}),h(C,{children:[o.id," (0x",o.id.toString(16),")"]})]}),o.online_doc?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Online documentation"}),n(C,{children:h(xe,{href:o.online_doc,target:"_blank",rel:"noopener noreferrer",children:[o.fqn||o.type," ",n(dn,{fontSize:"small"})]})})]}):null,o.file?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Declared in file"}),h(C,{children:[o.file,o.source_size?` (${o.source_size} lines)`:""]})]}):null,o.comments?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Comments"}),n(C,{children:n(E,{value:o.comments,mode:"text"})})]}):null]})})}),Object.entries(e).map(([i,c])=>n(x,{sx:{maxHeight:"400px"},children:n(ot,{children:n(st,{children:c.map(({key:d,value:f,id:m,signature:b})=>h(N,{children:[h(C,{sx:{wordBreak:"normal"},align:"right",children:[d,n(x,{component:"span",sx:{color:"text.secondary"},children:b})]}),n(C,{children:n(Ot,{value:f,id:m})})]},d))})})},i)),n(x,{sx:{p:3,fontSize:".7em",maxHeight:"400px"},children:n(E,{value:t,mode:"text"})}),n(x,{sx:{p:3,fontSize:".9em",maxHeight:"400px"},children:n(E,{value:r})})]})]})}function Mt({subtype:e,values:t,id:r,mapping:o}){const s=Math.max(Math.min(50,t.length/5),20),a=Math.min(t.length,s),[u,i]=l.exports.useState(!0),[c,d]=l.exports.useState(a),f=l.exports.useCallback(()=>d(F=>Math.min(t.length,F+s)),[s,t.length]),m=l.exports.useCallback(()=>d(F=>F===0?a:0),[a]),b=l.exports.useCallback(()=>d(t.length),[t.length]),D=l.exports.useCallback(()=>i(F=>!F),[]),g={list:"[",set:"{",tuple:"(",dict:"{"}[e]||`${e}(${o?"{":"["}`,w={list:"]",set:"}",tuple:")",dict:"}"}[e]||`${o?"}":"]"})`,I=t.slice(0,c);return h(x,{sx:{m:1,p:1,transition:"250ms ease-in-out box-shadow","&:hover":{boxShadow:"0 0 5px rgba(0, 0, 0, .125)"}},children:[!!t.length&&h(T,{sx:{fontSize:"0.7em",fontStyle:"italic"},color:"textSecondary",component:"span",children:["(",t.length,")"," "]}),n(K,{id:r,children:n(E,{mode:"text",value:g})}),!!t.length&&n(L,{onClick:m,sx:{p:.5},size:"large",children:c===0?n(pn,{sx:{fontSize:"16px"}}):n(hn,{sx:{fontSize:"16px"}})}),h(x,{component:"section",sx:{pl:u&&I.length>1?1:void 0,display:u&&I.length>1?void 0:"inline"},children:[I.map((F,j)=>h(x,{component:"span",sx:{whiteSpace:"pre"},children:[o?h($,{children:[n(ae,v({},F.key)),n(E,{mode:"text",value:": "}),n(ae,v({},F.value))]}):n(ae,v({},F)),j+1!==t.length&&n(E,{mode:"text",value:", "}),u&&I.length>1&&n("br",{})]},`member-${r}-${j}`)),t.length>I.length&&h(x,{component:"span",sx:{whiteSpace:"pre"},children:[n(L,{onClick:f,sx:{p:.5},size:"large",children:n(mn,{sx:{fontSize:"16px"}})}),h(tt,{sx:{color:"text.secondary"},size:"small",component:"span",onClick:f,children:[t.length-I.length," more"]}),t.length>I.length+s&&n(L,{onClick:b,sx:{p:.5},size:"large",children:n(at,{sx:{fontSize:"16px"}})})]})]}),h(K,{id:r,children:[t.length===1&&g==="("&&n(E,{mode:"text",value:","}),n(E,{mode:"text",value:w})]}),I.length>1&&n(L,{onClick:D,sx:{p:.5},size:"large",children:u?n(fn,{sx:{fontSize:"16px"}}):n(ne,{sx:{fontSize:"16px"}})})]})}function Zr(e){return n(Mt,v({mapping:!0},e))}function eo({text:e}){return n(E,{value:e,mode:"text"})}const to={out:eo,err:Qr,obj:Ot,diff:qr,inspect:Yr,iterable:Mt,mapping:Zr,exception:Xr};function ae(r){var o=r,{type:e}=o,t=z(o,["type"]);const s=to[e];return n(s,v({},t))}var no=l.exports.memo(function({uid:t,answer:r,duration:o,prompt:s,command:a,frame:u}){const i=H(),[c,d]=l.exports.useState(!0),m=k(w=>w.frames).find(({key:w})=>w===u),b=l.exports.useCallback(()=>d(w=>!w),[]),D=l.exports.useCallback(()=>i(be(u)),[i,u]),g=l.exports.useCallback(()=>{i(gr(t))},[i,t]);return h(lt,{sx:{m:1,display:"flex",flexDirection:"column"},children:[n(it,{sx:{".MuiCardHeader-content":{minWidth:0}},avatar:h($,{children:[n(L,{sx:w=>({transform:`rotate(${c?180:0}deg)`,marginLeft:"auto",transition:w.transitions.create("transform",{duration:w.transitions.duration.shortest})}),onClick:b,size:"small",children:n(ne,{})}),a&&n(te,{label:a})]}),title:n(E,{sx:{p:.5},value:s,noBreak:!0}),titleTypographyProps:{variant:"h5",noWrap:!0},action:h($,{children:[n(G,{title:m?`${m.absoluteFilename}:${m.lineNumber}`:"?",children:n(L,{onClick:D,size:"large",children:n(xn,{})})}),n(L,{onClick:g,size:"large",children:n(ct,{})})]})}),!!(r&&r.length)&&h($,{children:[n(fe,{}),n(gn,{in:c,timeout:"auto",unmountOnExit:!0,children:h(yn,{sx:{display:"flex"},children:[n(T,{variant:"body1",sx:{minWidth:0,px:2,py:0,flex:1},component:"div",children:r.map((w,I)=>n(ae,v({},w),I))}),o&&n(E,{value:jr(o),noBreakAll:!0})]})})]})]})});function ro(e,t){switch(console.log(t.type),t.type){case"search":return A(v({},e),{value:"",reverse:t.reverse,insensitive:t.insensitive,index:t.index});case"found":return A(v({},e),{value:t.value,notFound:!1,highlight:t.highlight,index:t.index});case"empty":return A(v({},e),{value:"",notFound:!1,highlight:null,index:0});case"not-found":return A(v({},e),{value:t.value,notFound:!0,highlight:null});case"reset":return{value:null,insensitive:!1,reverse:!1,notFound:!1,highlight:null,index:0};default:throw new Error}}const oo={value:null,reverse:!1,insensitive:!1,notFound:!1,highlight:null,index:0},Ce=(e,...t)=>{let r="",o="",s=!1;for(;e.i<e.str.length&&!(t.includes(e.str[e.i])&&!o&&!s);)o&&e.str[e.i]===o?o="":!o&&!s&&["'",'"'].includes(e.str[e.i])&&(o=e.str[e.i]),!s&&!o&&e.str[e.i]==="#"&&(s=!0),s&&e.str[e.i]===`
`&&(s=!1),e.str[e.i]==="\\"&&(s||(r+=e.str[e.i]),e.i++),s||(r+=e.str[e.i]),e.i++;return r},$t=e=>{let t=[];if(e.str[e.i]==="("){let r=e.str[e.i];for(e.i++;e.i<e.str.length&&e.str[e.i]!==")";)if(e.str[e.i]==="(")t=[...t,...$t(e)],r+=t.slice(-1)[0];else{const o=Ce(e,"(",",",")");r+=o,o.trim()&&t.push(o.trim()),e.str[e.i]===","&&(r+=e.str[e.i],e.i++)}e.str[e.i]===")"&&(r+=e.str[e.i],e.i++),t.push(r)}return t},so=(e,t)=>{let r=[];const o={str:e,i:t||0};for(;o.i<o.str.length;)Ce(o,"("),r=[...r,...$t(o)],o.i++;return r},ao=e=>{const t={str:e,i:0};return[Ce(t,"?").trim(),e.slice(t.i+1).trim()]},le={i:"inspect",d:"diff"};function lo(e,t){const r=(()=>{switch(t.type){case"new-value":return A(v({},e),{index:-1,value:t.value,transientValue:t.value,passive:!1});case"handle-up":return A(v({},e),{index:Math.min(e.index+1,t.history.length-1),value:t.history[Math.min(e.index+1,t.history.length-1)]||"",command:null,passive:!0});case"handle-down":return A(v({},e),{index:Math.max(e.index-1,-1),value:t.history[Math.max(e.index-1,-1)]||e.transientValue,command:null,passive:!0});case"jump":return A(v({},e),{index:t.index,value:t.value,command:null,passive:!0});case"toggle-command":return A(v({},e),{command:e.command===t.command?null:t.command});case"remove-command":return A(v({},e),{command:null});case"reset":return{index:-1,value:"",transientValue:"",command:null,passive:!0};default:throw new Error}})();if(r.value){const o=r.value.match(/^\?(\S+)\s(.*)/);if(o){const[,s,a]=o,u=le[s]||s,i=Object.values(le).includes(u)?u:null;i&&(r.value=a,r.command=i)}}return r}const io={index:-1,value:"",transientValue:"",command:null,passive:!0},co={module:"namespace",class:"class",instance:"variable",function:"function",param:"interface",path:"text",keyword:"keyword",property:"property",statement:"constant"},uo=e=>({token:t=>{e.lastIndex=t.pos;const r=e.exec(t.string);if(r&&r.index===t.pos)return t.pos+=r[0].length||1,"searching";r?t.pos=r.index:t.skipToEnd()}}),po=U.theme({"&,& .cm-content, & .cm-tooltip.cm-tooltip-autocomplete > ul ":{fontFamily:'"Fira Code", monospace'},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-tooltip":{fontSize:"0.75em"}}),ho=U.theme({"& .cm-cursor":{width:"12px",border:"none",outline:"1px solid rgba(0, 0, 0, .5)",display:"block"},"&.cm-focused .cm-cursor":{background:"rgba(0, 0, 0, .75)",animation:"blink 1.5s ease-in-out infinite",outline:0}}),Rt=[Ue(),bn(),He(),vn(),Ye.allowMultipleSelections.of(!0),Sn(),et.fallback,wn(),kn(),ut(),Cn(),We(),U.lineWrapping,po,ee.of([...Ge,...Ve,...je,...Ke,...qe,...Qe,...Je,...Xe]),he()];var mo=l.exports.memo(function({onScrollUp:t,onScrollDown:r,scrollToBottom:o}){const s=l.exports.useRef(),a=k(p=>p.history),u=k(p=>p.scrollback),i=k(p=>p.activeFrame),c=H(),[d,f]=l.exports.useReducer(lo,io),[m,b]=l.exports.useReducer(ro,oo);l.exports.useEffect(()=>{const p=({keyCode:S})=>{if(S!==13)return;const O=getSelection().toString();if(O){const M=ke();c(vt(M,O,null,i))}},y=({key:S})=>{var O;if((O=s.current)==null?void 0:O.view){const{view:M}=s.current;if(M.hasFocus)return;(S.length===1||S==="Spacebar")&&M.dispatch(M.state.replaceSelection(S==="Spacebar"?" ":S)),M.focus()}};return window.addEventListener("keydown",p),window.addEventListener("keyup",y),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",y)}},[i,c]);const D=l.exports.useCallback((p,y)=>{y.selectionSet&&(console.log("u"),f({type:"new-value",value:p}))},[]),g=l.exports.useMemo(()=>Object.entries(le).reduce((p,[y,S])=>(p[y]=()=>f({type:"toggle-command",command:S}),p),{}),[f]),w=l.exports.useCallback(p=>{if(p.state&&ge(p.state)==="active")return!1;if(!d.value)return!0;const y=ke();switch(d.command){case"inspect":c(br(y,d.value,d.command,i));break;case"diff":c(vr(y,...ao(d.value),d.command,i));break;default:c(vt(y,d.value,d.command,i))}return f({type:"reset"}),!0},[i,c,d.command,d.value]),I=l.exports.useCallback(p=>ge(p.state)==="active"?!1:(f({type:"handle-up",history:a}),!0),[a]),F=l.exports.useCallback(p=>ge(p.state)==="active"?!1:(f({type:"handle-down",history:a}),!0),[a]),j=l.exports.useCallback(()=>{s.current&&s.current.view.focus()},[s]),Ee=l.exports.useCallback(p=>{if(p.state.selection.main.head===0&&d.command)return f({type:"remove-command"}),!0},[d]),Pt=l.exports.useCallback(()=>(f({type:"remove-command"}),!0),[]),Te=l.exports.useCallback(p=>{p.state.selection.main.from!==p.state.selection.main.to?window.document.execCommand("copy"):f({type:"reset"})},[]),Ie=l.exports.useCallback(()=>{if(!d.value)return c(ye("kill")),!0},[c,d.value]),Fe=l.exports.useCallback(()=>(c(wr()),!0),[c]),ce=l.exports.useCallback((p,y,S=null)=>{if(y&&!y.selectionSet)return;if(!p){b({type:"empty"});return}const O=new RegExp(p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),`g${m.insensitive?"i":""}`);S=S===null?m.index:S;const P=(m.reverse?a.slice(S):[...a].sort(()=>-1).slice(a.length-S-1)).findIndex(B=>B&&B.match(O));if(P===-1){b({type:"not-found",value:p});return}const R=m.reverse?S+P:S-P;b({type:"found",value:p,highlight:uo(O),index:R}),f({type:"jump",index:R,value:a[R]})},[a,m]),_=l.exports.useCallback(p=>()=>{const y=p.reset?p.reverse?d.index===-1?0:d.index:d.index===-1?a.length-1:d.index:p.reverse?m.index+1:m.index-1;return b({type:"search",reverse:p.reverse||!1,insensitive:p.insensitive||!1,reset:p.reset||!1,history:a,index:y}),ce(m.value,null,y),!0},[ce,a,d.index,m.index,m.value]),J=l.exports.useCallback(()=>{b({type:"reset"}),s.current&&s.current.view.focus()},[s]),[q,Ae]=l.exports.useState(null),X=l.exports.useCallback((p,y)=>{const S=a.reduce((B,ue)=>[...B,...so(ue)],[]),O=y==="up"?0:a.length-1,M=q!==null&&(y==="up"?q+1:q-1),P=p.state.selection.main.from===p.state.selection.main.to||q===null?O:M,R=S[P];R?(p.dispatch(p.state.replaceSelection(R)),p.dispatch({selection:{anchor:p.state.selection.main.head-R.length,head:p.state.selection.main.head}}),Ae(P)):p.dispatch(p.state.replaceSelection(""))},[a,q,Ae]),De=l.exports.useCallback(p=>{X(p,"up")},[X]),Oe=l.exports.useCallback(p=>{X(p,"down")},[X]),Me=l.exports.useCallback(async p=>{let y=p.matchBefore(/\w*/);if(y.from===y.to&&!p.explicit)return null;const S=p.state.doc.lineAt(p.state.selection.main.head),O=p.state.doc.lineAt(y.from),M=p.state.doc.lineAt(y.to),P={line:S.number-1,ch:p.state.selection.main.head-S.from},R={line:O.number-1,ch:y.from-O.from},B={line:M.number-1,ch:y.to-M.from};if(!d.value.includes(" ")&&d.value.startsWith("?"))return{from:y.from,options:Object.values(le).map(W=>({label:`?${W}`,type:"namespace"}))};c(Cr(d.value,R,B,P,i));const ue=await Promise.race([new Promise(W=>setTimeout(()=>W([]),5e3)),new Promise(W=>{const de=Q.subscribe((...pe)=>{const{suggestions:{prompt:Ut,from:Re,to:Le,suggestion:Ht}}=Q.getState();Ut===d.value&&R.line===Re.line&&R.ch===Re.ch&&B.line===Le.line&&B.ch===Le.ch&&(W(Ht.list),de())})})]);return{from:y.from,options:ue.map(({text:W,description:de,type:pe})=>({label:W,info:de,type:co[pe]||pe}))}},[i,c,d.value]),$e=u.length===0||u.slice(-1)[0].answer!==null,Bt=l.exports.useMemo(()=>[dt.highest(ee.of([{key:"ArrowUp",run:I,preventDefault:!0},{key:"ArrowDown",run:F,preventDefault:!0},{key:"Enter",run:w,preventDefault:!0},{key:"Backspace",run:Ee,preventDefault:!0},{key:"Ctrl-c",run:Te,preventDefault:!0},{key:"Ctrl-d",run:Ie,preventDefault:!0},{key:"Ctrl-l",run:Fe,preventDefault:!0},{key:"Ctrl-r",run:_({reverse:!0,reset:!0}),preventDefault:!0},{key:"Ctrl-s",run:_({reset:!0}),preventDefault:!0},{key:"Shift-Ctrl-r",run:_({reverse:!0,insensitive:!0,reset:!0}),preventDefault:!0},{key:"Shift-Ctrl-s",run:_({insensitive:!0,reset:!0}),preventDefault:!0},{key:"Shift-PageUp",run:t,preventDefault:!0},{key:"Shift-PageDown",run:r,preventDefault:!0},{key:"Alt-ArrowUp",run:De,preventDefault:!0},{key:"Alt-ArrowDown",run:Oe,preventDefault:!0},{key:"Alt-i",run:g.i,preventDefault:!0},{key:"Alt-d",run:g.d,preventDefault:!0}])),ut({override:[Me]}),ho,...Rt],[Me,Ee,Fe,g.d,g.i,Ie,F,w,Oe,De,Te,_,I,r,t]),zt=l.exports.useMemo(()=>[U.domEventHandlers({blur:J}),dt.highest(ee.of([{key:"Enter",run:J,preventDefault:!0},{key:"Escape",run:J,preventDefault:!0},{key:"Ctrl-r",run:_({reverse:!0}),preventDefault:!0},{key:"Ctrl-s",run:_({}),preventDefault:!0},{key:"Shift-Ctrl-r",run:_({reverse:!0,insensitive:!0}),preventDefault:!0},{key:"Shift-Ctrl-s",run:_({insensitive:!0}),preventDefault:!0}])),...Rt],[_,J]);return l.exports.useEffect(()=>{var p;if(((p=s.current)==null?void 0:p.view)&&d.passive){const{view:y}=s.current;y.dispatch({selection:{anchor:d.value.length}})}},[d.value,d.passive]),n(En,{in:$e,exit:!1,mountOnEnter:!0,unmountOnExit:!0,onEntered:j,children:n(lt,{raised:!0,sx:{m:1},children:n(it,{avatar:h($,{children:[n(L,{sx:p=>({transform:`rotate(${$e?270:0}deg)`,marginLeft:"auto",transition:p.transitions.create("transform",{duration:p.transitions.duration.shortest})}),onClick:w,size:"small",children:n(ne,{})}),d.command&&n(te,{label:d.command,onDelete:Pt})]}),title:h($,{children:[n(me,{ref:s,value:d.value,basicSetup:!1,theme:"light",onChange:D,height:"auto",extensions:Bt,width:"100%",onUpdate:o}),m.value!==null&&h(x,{component:"label",sx:{fontSize:".5em",color:m.notFound?"error.main":"text.secondary",display:"flex",alignItems:"center"},children:[h(x,{component:"span",sx:{px:0,py:.5},children:[m.insensitive&&"I-","Search"," ",m.reverse?"backward":"forward",":"]}),n(me,{value:m.value,height:"auto",autoFocus:!0,basicSetup:!1,extensions:zt,width:"100%",onChange:ce})]})]}),titleTypographyProps:{variant:"h5"}})})})}),fo=l.exports.memo(function({className:t}){const r=k(i=>i.scrollback),o=l.exports.useRef(),s=l.exports.useCallback(()=>{o.current.scrollTop-=300},[o]),a=l.exports.useCallback(()=>{o.current.scrollTop+=300},[o]),u=l.exports.useCallback(()=>{o.current.scrollTop=o.current.scrollHeight},[]);return h(x,{sx:{flex:1,overflowY:"auto",scrollBehavior:"smooth"},ref:o,children:[r.map(d=>{var f=d,{key:i}=f,c=z(f,["key"]);return n(no,v({uid:i},c),i)}),n(mo,{onScrollUp:s,onScrollDown:a,scrollToBottom:u})]})});function xo(){const e=pt("(min-aspect-ratio: 1/1)"),t=k(s=>s.frames),r=k(s=>s.activeFrame),o=t.find(({key:s})=>s===r);return h(x,{component:"main",sx:s=>({flexGrow:1,display:"flex",flexDirection:"column",zIndex:s.zIndex.drawer+1,minWidth:0}),children:[n(x,{sx:s=>s.mixins.toolbar}),h(Hr,{vertical:e,children:[o&&n(Ur,{currentFile:o}),n(fo,{})]})]})}var go=l.exports.memo(function({frame:t,last:r}){const o=k(u=>u.activeFrame),s=H(),a=l.exports.useCallback(()=>{s(be(t.key))},[s,t.key]);return h(Tn,{divider:!r,selected:t.key===o,onClick:a,children:[n(rt,{primary:t.function,secondary:h($,{children:[n(E,{value:t.lineSource}),n(G,{title:t.absoluteFilename,children:h(T,{variant:"body2",display:"block",component:"span",noWrap:!0,children:[t.filename,":",t.lineNumber]})})]})}),n(In,{children:t.active&&n(G,{title:"Current Frame",children:n("div",{children:n(Fn,{fontSize:"small"})})})})]})}),yo=l.exports.memo(function(){const t=k(a=>a.frames),r=k(a=>a.activeFrame),o=l.exports.useRef(),s=H();return l.exports.useEffect(()=>{t.length&&s(be(t[0].key))},[s,t]),l.exports.useEffect(()=>{if(o.current){const a=o.current.querySelectorAll(".Mui-selected");a.length&&Kr(a[0])}},[r]),n(nt,{ref:o,sx:{p:0},children:t.map((a,u)=>n(go,{frame:a,last:u===t.length-1},a.key))})});const ie=240;function bo({rtl:e,open:t,mobile:r,onDrawerClose:o}){return h(An,{sx:s=>({width:{sm:ie,md:t?ie:0},"& .MuiPaper-root":{width:{sm:ie,md:t?ie:0}},flexShrink:{sm:0,md:null},transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration[t?"enteringScreen":"leavingScreen"]}),overflow:t?void 0:"hidden"}),open:t,variant:r?"temporary":"persistent",anchor:e?"right":"left",onClose:o,children:[n(x,{sx:s=>A(v({},s.mixins.toolbar),{display:"flex"}),children:h(x,{sx:{p:1,display:"flex",alignItems:"baseline",width:"100%",justifyContent:"space-around"},children:[n(xe,{href:"http://github.com/paradoxxxzero/kalong/",underline:"hover",children:h(T,{variant:"h1",sx:{fontSize:"2.25em","&:hover span":{display:"inline-block","&.K":{transform:"rotate3d(0, 0, 1, -90deg) translate(-8.5px, 0px)",textDecoration:"none"},"&.o":{transform:"rotate3d(0, 1, 0, 180deg)",textDecoration:"underline"},transformOrigin:"center"}},children:[n(x,{component:"span",className:"K",sx:{transform:"rotate3d(0, 1, 0, 0deg)",transition:"transform 500ms",marginLeft:"-1px"},children:"K"}),"al",n(x,{component:"span",className:"o",sx:{transform:"rotate3d(0, 1, 0, 0deg)",transition:"transform 500ms",marginLeft:"-1px"},children:"o"}),"ng"]})}),n(xe,{href:"http://github.com/paradoxxxzero/kalong/releases",underline:"hover",children:n(T,{variant:"subtitle1",sx:{fontSize:"1.25em"},children:"v0.2.1"})})]})}),n(fe,{}),n(yo,{})]})}const Lt=(e,t)=>[e?t?{label:"Pause the program",action:"pause",Icon:Dn,key:"F8",disabled:!1}:null:{label:"Continue the program",action:"continue",Icon:On,key:"F8",disabled:!1},{label:"Step to the next instruction",action:"step",Icon:Mn,key:"F9",disabled:e},{label:"Step Until next line (bypass loops)",action:"stepUntil",Icon:$n,key:"F10",disabled:e},{label:"Step Into function call",action:"stepInto",Icon:Rn,key:"F11",disabled:e},{label:"Step Out of the current function",action:"stepOut",Icon:Ln,key:"Shift+F11",disabled:e},{label:"Trace the program (stop at every exception)",action:"trace",Icon:_n,key:"Shift+F12",disabled:e},{label:"Run the program",action:"run",Icon:Nn,key:"F12",disabled:e},{label:"StopDebugging",action:"stop",Icon:Pn,key:"Esc",disabled:e},{label:"Exit program",action:"kill",Icon:ct,key:"Shift+Esc",disabled:!1}].filter(r=>r),vo=({action:{label:e,action:t,disabled:r,Icon:o},handleCommand:s})=>h(zn,{onClick:s,disabled:r,"data-action":t,children:[n(Un,{children:n(o,{})}),n(T,{variant:"inherit",noWrap:!0,children:e})]}),So=({action:{key:e,label:t,action:r,disabled:o,Icon:s},handleCommand:a})=>n(G,{title:`${t} [${e}]`,children:n("span",{children:n(L,{color:"inherit",onClick:a,disabled:o,"data-action":r,size:"large",children:n(s,{})})})});var wo=l.exports.memo(function({mobile:t}){const r=k(g=>g.title),o=k(g=>g.frames),s=k(g=>g.running),a=k(g=>g.main),u=H(),[i,c]=l.exports.useState(null),d=l.exports.useCallback(g=>u(ye(g.currentTarget.getAttribute("data-action"))),[u]);l.exports.useEffect(()=>{const g=w=>{let{code:I}=w;w.shiftKey&&(I=`Shift+${I}`);const F=Lt(s).find(({key:j})=>I===j);!F||(u(ye(F.action)),w.preventDefault())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[s,u]);const f=l.exports.useCallback(()=>c(null),[]),m=l.exports.useCallback(({currentTarget:g})=>c(g),[]);l.exports.useLayoutEffect(()=>{!t&&i&&f()});const b=t?vo:So,D=Lt(s,a).map(g=>n(b,{action:g,handleCommand:d},g.action));return h($,{children:[n(T,{variant:"h6",color:"inherit",noWrap:!0,children:r}),!!o.length&&h($,{children:[n(x,{sx:{flexGrow:1}}),t?h($,{children:[n(L,{onClick:m,size:"large",children:n(at,{})}),n(Bn,{anchorEl:i,open:!!i,onClose:f,children:D})]}):n(x,{sx:{whiteSpace:"pre"},children:D})]})]})});const _t=240;function ko({rtl:e,open:t,mobile:r,onDrawerOpen:o,onDrawerClose:s}){return n(Hn,{sx:a=>({zIndex:a.zIndex.drawer+2,transition:`${a.transitions.create(["margin","width"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration[t&&!r?"enteringScreen":"leavingScreen"]})},${a.transitions.create(["background-color","color"],{easing:a.transitions.easing.easeInOut,duration:a.transitions.duration.normal})}`,width:t&&!r?`calc(100% - ${_t}px)`:void 0,marginLeft:t&&!r?_t:void 0}),position:"fixed",children:h(Wn,{children:[n(G,{title:`${t?"Close":"Open"} the call stack`,children:n(L,{color:"inherit",onClick:t?s:o,sx:{mr:2.5},size:"large",children:!r&&t?e?n(ht,{}):n(mt,{}):e?n(mt,{}):n(ht,{})})}),n(wo,{mobile:r})]})})}function Co(){const e=Gn(),t=pt(e.breakpoints.down("md")),r=H(),o=k(d=>d.running),s=k(d=>d.frames),[a,u]=l.exports.useState(!t);l.exports.useEffect(()=>{r(ur())},[r]),l.exports.useEffect(()=>{u(!t&&!!s.length)},[t,s]);const i=l.exports.useCallback(()=>u(!0),[]),c=l.exports.useCallback(()=>u(!1),[]);return h(x,{sx:{display:"flex",width:"100vw",height:"100vh",justifyContent:"center",fontVariant:"oldstyle-nums",transition:"filter 500ms ease-in",filter:o?"grayscale(100%)":void 0},children:[n(Vn,{styles:{"@global":{"@font-face":[{fontFamily:"Fira Code",fontWeight:"normal",fontStyle:"normal",src:`url(${Fr}) format("opentype")`},{fontFamily:"Fira Code",fontWeight:"bold",fontStyle:"normal",src:`url(${Ir}) format("opentype")`}]}}}),n(jn,{}),n(ko,{mobile:t,open:a,rtl:e.direction==="rtl",onDrawerOpen:i,onDrawerClose:c}),n(bo,{mobile:t,open:a,rtl:e.direction==="rtl",onDrawerClose:c}),n(xo,{}),n(Ar,{sx:{position:"fixed",right:"1em",bottom:"1em"}})]})}const V=e=>qn({palette:{action:{selectedOpacity:.15},primary:{main:e},secondary:{main:Be.A400},neutral:{main:ft[700]}},mixins:{toolbar:{minHeight:56,"@media (min-width:600px)":{minHeight:64}}}}),Nt={init:V(Kn[500]),line:V(Qn[600]),call:V(Jn[500]),return:V(Xn[700]),exception:V(Yn[500]),shell:V(Zn[500]),dead:V(ft[600])};function Eo(){const e=k(t=>t.theme);return n(er,{injectFirst:!0,children:n(tr,{theme:Nt[e]||Nt.line,children:n(Co,{})})})}const To=(e={},t)=>{switch(t.type){case xt:return t.config;default:return e}},Io=(e="Initializing",t)=>{switch(t.type){case pr:return t.title;default:return e}},Fo=(e=[],t)=>{switch(t.type){case gt:return t.frames;default:return e}},Ao=(e={},t)=>{switch(t.type){case xr:return A(v({},e),{[t.filename]:t.source});default:return e}},Do=(e=null,t)=>{let r;switch(t.type){case gt:return r=t.frames.find(({active:o})=>o),r?r.key:e;case bt:return t.key;default:return e}},Oo=(e=[],t)=>{switch(t.type){case ve:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case St:return e.filter(r=>t.key!==r.key);case Ct:return[...e,{key:t.key,prompt:`${t.id}\u2026`,answer:null}];case Se:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case Sr:return e.map(r=>t.key===r.key?{key:t.key,prompt:t.prompt,command:t.command,answer:t.answer,frame:t.frame,duration:t.duration}:r);case we:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case Et:return[];default:return e}},Mo=(e={state:"connecting"},t)=>{switch(t.type){case wt:return A(v({},e),{state:t.state});default:return e}},$o=(e=0,t)=>t.remote?e+1:t.local?e-1:e,Ro=(e=!1,t)=>t.type===yt?!0:t.type===dr?!1:e,Lo=(e=[],t)=>{switch(t.type){case ve:return[t.prompt,...e.filter(r=>r!==t.prompt)];case Se:return[`?i ${t.prompt}`,...e.filter(r=>r!==`?i ${t.prompt}`)];case we:return[`?d ${t.left} ? ${t.right}`,...e.filter(r=>r!==`?d ${t.left} ? ${t.right}`)];default:return e}},_o=(e={},t)=>{switch(t.type){case Er:return{prompt:t.prompt,from:t.from,to:t.to,suggestion:t.suggestion};case Tr:return{};default:return e}},No=(e="init",t)=>{switch(t.type){case hr:return t.theme;default:return e}},Po=(e=!0,t)=>{switch(t.type){case xt:return t.main;default:return e}};var Bo=nr({config:To,title:Io,frames:Fo,files:Ao,activeFrame:Do,scrollback:Oo,history:Lo,suggestions:_o,theme:No,connection:Mo,loadingLevel:$o,running:Ro,main:Po});function zo(e){let t=!1;const r=["debug","info"].includes(e.getState().config.log),o=[],s=()=>new WebSocket(`${window.location.protocol.replace("http","ws")}//${window.location.host.replace(59998,59999)}${window.location.pathname}`);let a=window.ws=s();return a.onopen=()=>{for(e.dispatch(kt("open"));o.length;)a.send(o.shift())},a.onmessage=({data:u})=>{const i=JSON.parse(u);if(r){const c=i,{type:d}=c,f=z(c,["type"]);console&&console.log("->",d,f)}e.dispatch(i)},a.onclose=()=>{e.dispatch(kt("closed")),setTimeout(()=>t||window.close(),10)},window.addEventListener("beforeunload",function(u){if(delete u.returnValue,a.readyState===WebSocket.OPEN)try{t=!0,a.close()}catch{}}),u=>i=>{if(i.remote){const f=JSON.stringify(i);if(a.readyState===1){if(r){const c=i,{type:m}=c,b=z(c,["type"]);console&&console.log("<-",m,b)}a.send(f)}else{if(r){const d=i,{type:m}=d,b=z(d,["type"]);console&&console.log("><",m,b)}o.push(f),a.readyState===3&&(a=window.ws=s())}}return u(i)}}const Q=rr(Bo,{history:JSON.parse(localStorage.getItem("history")||"[]")},(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||or)(sr(zo)));Q.subscribe(()=>{localStorage.setItem("history",JSON.stringify(Q.getState().history))});const Uo=()=>{ar.exports.render(n(lr,{store:Q,children:n(Eo,{})}),document.getElementById("root"))};Uo();
