(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{140:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(18),o=a(4),c=a.n(o),i=a(3),l=a(16),s=a(6),d=a(52),b=function(){var e=sessionStorage.getItem("sessionId");return null==e&&(e=Object(d.v4)(),sessionStorage.setItem("sessionId",e)),e},u=(a(92),a(1));function j(){return Object(u.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0",children:[Object(u.jsx)("a",{className:"navbar-brand col-md-3 col-lg-3 me-0 px-3",href:"/",children:Object(u.jsx)("img",{alt:"Mercury",src:"/static/mercury_red.svg",style:{height:"24px"}})}),Object(u.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon",style:{height:"15px",width:"15px"}})})]})}var p=a(53),h=a(23),v=a(8),f=a.n(v),x=a(15),m=a(14),g=Object(m.b)({name:"tasks",initialState:{currentTask:{}},reducers:{setCurrentTask:function(e,t){e.currentTask=t.payload}}}),O=g.reducer,y=g.actions.setCurrentTask,k=function(e){return e.tasks.currentTask},w=function(e){return function(){var t=Object(x.a)(f.a.mark((function t(a){var n,r,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b(),t.prev=1,r="/api/v1/latest_task/".concat(e,"/").concat(n),t.next=5,c.a.get(r);case 5:o=t.sent,i=o.data,a(y(i)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(y({}));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},N=Object(m.b)({name:"widgets",initialState:{widgets:{}},reducers:{setWidgetValue:function(e,t){var a=t.payload,n=a.key,r=a.value;e.widgets[n]=r},clearWidgets:function(e){e.widgets={}}}}),S=N.reducer,C=N.actions,T=C.setWidgetValue,R=(C.clearWidgets,function(e){return e.widgets.widgets});function M(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.disabled,o=Object(i.b)();return Object(u.jsxs)("div",{className:"form-group form-check form-switch mb-3",children:[Object(u.jsx)("input",{className:"form-check-input",type:"checkbox",id:"checkbox-".concat(a),disabled:r,onChange:function(){console.log("change"),o(T({key:t,value:!n}))},checked:null!=n&&n}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"checkbox-".concat(a),children:a})]})}var _=a(54),A=a.n(_);function P(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,o=e.max,c=e.step,l=e.disabled,s=Object(i.b)(),d=0,b=100,j=1;return r&&(d=r),o&&(b=o),c&&(j=c),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"checkbox-".concat(a),children:a}),Object(u.jsx)(A.a,{className:"form-control",disabled:l,value:n,min:d,max:b,step:j,onChange:function(e){s(T({key:t,value:e}))}})]})}var E=a(5),W=a(21);function F(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,o=e.max,c=e.step,l=(e.vertical,e.disabled),s=Object(i.b)(),d=0,b=100,j=1;r&&(d=r),o&&(b=o),c&&(j=c);var p=null!=n&&void 0!==n&&2===n.length?n:[d,b];return Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"range-slider-".concat(a),children:a}),Object(u.jsx)("div",{style:{paddingTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:Object(u.jsx)(W.Range,{disabled:l,values:p,step:j,min:d,max:b,onChange:function(e){s(T({key:t,value:e}))},renderTrack:function(e){var t=e.props,a=e.children;return Object(u.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(E.a)(Object(E.a)({},t.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(u.jsxs)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(W.getTrackBackground)({values:p,colors:["#ccc",l?"rgba(0, 0, 0, 0.3)":"#2684ff","#ccc"],min:d,max:b}),alignSelf:"center"},children:[a,Object(u.jsxs)("div",{style:{display:"inline-block",width:"100%",fontSize:"12px",paddingTop:"13px"},children:[Object(u.jsx)("div",{style:{float:"left"},children:d}),Object(u.jsx)("div",{style:{float:"right"},children:b})]})]})})},renderThumb:function(e){var t=e.index,a=e.props,n=e.isDragged;return Object(u.jsxs)("div",Object(E.a)(Object(E.a)({},a),{},{style:Object(E.a)(Object(E.a)({},a.style),{},{height:"18px",width:"18px",border:"None !important",borderRadius:"4px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA",outline:"none"}),children:[Object(u.jsx)("div",{style:{position:"absolute",top:"-24px",color:"#fff",fontWeight:"bold",fontSize:"12px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"2px",borderRadius:"3px",backgroundColor:l?"rgba(0, 0, 0, 0.3)":"#2684ff"},children:p[t]}),Object(u.jsx)("div",{style:{height:"12px",width:"3px",backgroundColor:n?"#2684ff":"#CCC"}})]}))}})})]})}var L=a(62);function D(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.choices,o=e.multi,c=e.disabled,l=Object(i.b)(),s={menu:function(e){return Object(E.a)(Object(E.a)({},e),{},{zIndex:100})}},d={value:"",label:""},b=[{value:"",label:""}],j=r.map((function(e){return n&&e===n&&!o&&(d={value:e,label:e}),{value:e,label:e}}));return o&&(b=[],r.map((function(e){return n&&n.includes(e)&&o&&b.push({value:e,label:e}),{value:e,label:e}}))),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"select-".concat(a),children:a}),Object(u.jsx)(L.a,{id:"select-".concat(a),isDisabled:c,name:a||"Select",styles:s,value:o?b:d,options:j,isMulti:o,onChange:function(e){if(console.log(e),e)if(function(e){return void 0!==e.value}(e))console.log("single"),l(T({key:t,value:e.value}));else{console.log("multi"),console.log({msg:"values",values:e.values()});var a=Array.from(e.values()).filter((function(e){return void 0!==e}));console.log(a),console.log({key:t}),l(T({key:t,value:a.map((function(e){return e.value}))}))}}})]})}function I(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,o=e.max,c=e.step,l=(e.vertical,e.disabled),s=Object(i.b)(),d=0,b=100,j=1;r&&(d=r),o&&(b=o),c&&(j=c);var p=[null!==n?n:b];return Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"slider-".concat(a),children:a}),Object(u.jsx)("div",{style:{paddingTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:Object(u.jsx)(W.Range,{disabled:l,values:p,step:j,min:d,max:b,onChange:function(e){s(T({key:t,value:e[0]}))},renderTrack:function(e){var t=e.props,a=e.children;return Object(u.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(E.a)(Object(E.a)({},t.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(u.jsxs)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(W.getTrackBackground)({values:p,colors:[l?"rgba(0, 0, 0, 0.3)":"#2684ff","#ccc"],min:d,max:b}),alignSelf:"center"},children:[a,Object(u.jsxs)("div",{style:{display:"inline-block",width:"100%",fontSize:"12px",paddingTop:"13px"},children:[Object(u.jsx)("div",{style:{float:"left"},children:d}),Object(u.jsx)("div",{style:{float:"right"},children:b})]})]})})},renderThumb:function(e){var t=e.props,a=e.isDragged;return Object(u.jsxs)("div",Object(E.a)(Object(E.a)({},t),{},{style:Object(E.a)(Object(E.a)({},t.style),{},{height:"18px",width:"18px",border:"None",borderRadius:"4px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA",outline:"none"}),children:[Object(u.jsx)("div",{style:{position:"absolute",top:"-24px",color:"#fff",fontWeight:"bold",fontSize:"12px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"2px",borderRadius:"3px",backgroundColor:l?"rgba(0, 0, 0, 0.3)":"#2684ff"},children:p[0]}),Object(u.jsx)("div",{style:{height:"12px",width:"3px",backgroundColor:a?"#2684ff":"#CCC"}})]}))}})})]})}var z=a(55),H=a.n(z);function K(e){return"checkbox"===e.input}function B(e){return"numeric"===e.input}function U(e){return"slider"===e.input}function J(e){return"range"===e.input}function V(e){return"file"===e.input}function Y(e){return"text"===e.input}var q=a(33),G=a(56),Q=a.n(G),X=a(57),Z=a.n(X),$=a(58),ee=a.n($);function te(e){var t=e.widgetKey,a=e.label,n=e.maxFileSize,r=e.disabled,o=Object(i.b)(),l="100MB";return n&&(l=n),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"file-".concat(a),children:a}),Object(u.jsx)("div",{children:Object(u.jsx)(q.FilePond,{disabled:r,maxFileSize:l,onprocessfile:function(e,a){o(T({key:t,value:a.serverId}))},server:{url:"".concat(c.a.defaults.baseURL,"/api/v1/fp"),process:"/process/",revert:function(){var e=Object(x.a)(f.a.mark((function e(a,n,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete("".concat(c.a.defaults.baseURL,"/api/v1/fp/revert"),{data:a});case 3:e.sent,o(T({key:t,value:[]})),n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r("Problem with uploaded file removal");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()},labelIdle:'Drag & Drop your file or <span class="filepond--label-action">Browse</span>'})})]})}function ae(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.rows,o=e.disabled,c=Object(i.b)(),l=r||1,s=function(e){return e.replace(/[^a-z0-9\.,_\-\s!?]/gim,"")};return Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"textarea-".concat(a),children:a}),1==l&&Object(u.jsx)("input",{className:"form-control",type:"text",id:"text-".concat(a),value:n,onChange:function(e){c(T({key:t,value:s(e.target.value)}))},disabled:o}),l>1&&Object(u.jsx)("textarea",{className:"form-control",id:"text-area-".concat(a),rows:l,value:n,onChange:function(e){c(T({key:t,value:s(e.target.value)}))},disabled:o})]})}function ne(e){var t=e.notebookTitle,a=e.notebookId,r=(e.loadingState,e.waiting),o=e.widgetsParams,l=e.watchMode,s=e.notebookPath,d=Object(i.b)(),j=Object(i.c)(R);Object(n.useEffect)((function(){if(o)for(var e=0,t=Object.entries(o);e<t.length;e++){var a=Object(h.a)(t[e],2),n=a[0],r=a[1];"file"===r.input?d(T({key:n,value:[]})):"text"===r.input?d(T({key:n,value:r.value?r.value:""})):d(T({key:n,value:r.value}))}}),[d,o]);var v=[],m=[];if(o)for(var g=0,O=Object.entries(o);g<O.length;g++){var k=Object(h.a)(O[g],2),w=k[0],N=k[1];"select"===N.input?v.push(Object(u.jsx)(D,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,value:j[w],choices:null===N||void 0===N?void 0:N.choices,multi:null===N||void 0===N?void 0:N.multi},w)):K(N)?v.push(Object(u.jsx)(M,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,value:j[w]},w)):B(N)?v.push(Object(u.jsx)(P,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,value:j[w],min:null===N||void 0===N?void 0:N.min,max:null===N||void 0===N?void 0:N.max,step:null===N||void 0===N?void 0:N.step},w)):U(N)?v.push(Object(u.jsx)(I,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,value:j[w],min:null===N||void 0===N?void 0:N.min,max:null===N||void 0===N?void 0:N.max,step:null===N||void 0===N?void 0:N.step,vertical:null===N||void 0===N?void 0:N.vertical},w)):J(N)?v.push(Object(u.jsx)(F,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,value:j[w],min:null===N||void 0===N?void 0:N.min,max:null===N||void 0===N?void 0:N.max,step:null===N||void 0===N?void 0:N.step,vertical:null===N||void 0===N?void 0:N.vertical},w)):V(N)?(v.push(Object(u.jsx)(te,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,maxFileSize:null===N||void 0===N?void 0:N.maxFileSize},w)),m.push(w)):Y(N)&&v.push(Object(u.jsx)(ae,{widgetKey:w,disabled:r,label:null===N||void 0===N?void 0:N.label,value:j[w],rows:null===N||void 0===N?void 0:N.rows},w))}var S=function(){if(0===m.length)return!0;var e,t=Object(p.a)(m);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(!Object.prototype.hasOwnProperty.call(j,a))return!1;if(0===j[a].length)return!1}}catch(n){t.e(n)}finally{t.f()}return!0};return Object(u.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-3 d-md-block bg-light sidebar collapse",style:{overflowY:"auto"},children:Object(u.jsxs)("div",{className:"position-sticky p-3",children:[Object(u.jsx)("h4",{children:t}),Object(u.jsx)("div",{style:{padding:"0px"},children:Object(u.jsxs)("form",{children:[v,Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsxs)("button",{type:"button",className:"btn btn-success",style:{marginRight:"10px",width:"47%"},onClick:function(){return d(function(e){return function(){var t=Object(x.a)(f.a.mark((function t(a,n){var r,o,i,l,s,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().widgets.widgets,o=b(),console.log("run notebook"),t.prev=3,i={session_id:o,params:JSON.stringify(r)},console.log(i),l="/api/v1/execute/".concat(e),t.next=9,c.a.post(l,i);case 9:s=t.sent,d=s.data,console.log(d),a(y(d)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.error("Problem during notebook execution. ".concat(t.t0));case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))},disabled:r||!S(),children:[Object(u.jsx)("i",{className:"fa fa-play","aria-hidden":"true"})," Run"]}),Object(u.jsxs)("button",{style:{width:"47%",float:"right"},type:"button",className:"btn btn-primary",disabled:r,onClick:function(){return e="".concat(c.a.defaults.baseURL).concat(s),a="".concat(t,".html"),void c.a.get(e,{responseType:"blob"}).then((function(e){H()(e.data,a)}));var e,a},children:[Object(u.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})," Download"]})]}),m&&!S()&&Object(u.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(u.jsx)("i",{className:"fa fa-file","aria-hidden":"true"})," Please upload all required files."]}),"Please provide title"===t&&Object(u.jsxs)("div",{className:"alert alert-warning mb-3",role:"alert",children:[Object(u.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"})," ",Object(u.jsx)("b",{children:"Please add YAML config to your notebook as a first raw cell."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Example:",Object(u.jsxs)("pre",{children:["---",Object(u.jsx)("br",{}),"title: Report title",Object(u.jsx)("br",{}),"author: Your name",Object(u.jsx)("br",{}),"description: My amazing report",Object(u.jsx)("br",{}),"---"]}),Object(u.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.open("https://github.com/mljar/mercury#convert-notebook-to-web-app-with-yaml","_blank")},children:[Object(u.jsx)("i",{className:"fa fa-book","aria-hidden":"true"})," Read more"]})]}),r&&Object(u.jsxs)("div",{className:"alert alert-primary mb-3",role:"alert",children:[Object(u.jsx)("i",{className:"fa fa-cogs","aria-hidden":"true"})," Notebook is executed. Please wait."]}),l&&Object(u.jsxs)("div",{className:"alert alert-secondary mb-3",role:"alert",children:[Object(u.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})," Notebook in watch mode. All changes to Notebook will be automatically visible in Mercury."]})]})})]})})}function re(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}Object(q.registerPlugin)(Q.a,Z.a,ee.a);var oe=a(59);function ce(e){var t=e.loadingState,a=e.notebookPath,r=e.waiting,o=e.errorMsg,i=e.watchMode,l=function(){var e=Object(n.useState)(re()),t=Object(h.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(re())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().height;return Object(u.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-9",style:{paddingTop:"0px",paddingRight:"0px",paddingLeft:"0px"},children:Object(u.jsx)(oe.a,{tag:"div",blocking:r,children:Object(u.jsxs)("div",{children:["loading"===t&&!i&&Object(u.jsx)("p",{children:"Loading notebook. Please wait ..."}),"error"===t&&Object(u.jsx)("p",{children:"Problem while loading notebook. Please try again later or contact Mercury administrator."}),o&&Object(u.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(u.jsx)("b",{children:"Notebook is executed with errors."}),Object(u.jsx)("p",{children:o})]}),""===o&&"loading"!==t&&Object(u.jsx)("iframe",{width:"100%",height:l-58,src:"".concat(c.a.defaults.baseURL).concat(a),title:"display"},a)]})})})}var ie=Object(m.b)({name:"notebooks",initialState:{notebooks:[],loadingState:"loading",selectedNotebook:{},loadingStateSelected:"loading",watchModeCounter:0},reducers:{setNotebooks:function(e,t){e.notebooks=t.payload},setLoadingState:function(e,t){e.loadingState=t.payload},setSelectedNotebook:function(e,t){t.payload.state.startsWith("WATCH")&&e.selectedNotebook.file_updated_at===t.payload.file_updated_at||(e.selectedNotebook=t.payload),t.payload.state.startsWith("WATCH")&&(e.watchModeCounter+=1)},setLoadingStateSelected:function(e,t){e.loadingStateSelected=t.payload}}}),le=ie.reducer,se=ie.actions,de=se.setNotebooks,be=se.setLoadingState,ue=se.setSelectedNotebook,je=se.setLoadingStateSelected,pe=function(e){return e.notebooks.notebooks},he=function(e){return e.notebooks.loadingState},ve=function(e){return e.notebooks.selectedNotebook},fe=function(e){return e.notebooks.loadingStateSelected},xe=function(e){return e.notebooks.watchModeCounter},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(x.a)(f.a.mark((function a(n){var r,o,i,l;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t||n(je("loading")),r="/api/v1/notebooks/".concat(e),a.next=5,c.a.get(r);case 5:o=a.sent,i=o.data,l=JSON.parse(i.params),n(ue(Object(E.a)(Object(E.a)({},i),{},{params:l}))),t||n(je("loaded")),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),t||n(je("error")),console.error("Problem during loading selected notebook (".concat(e,"). ").concat(a.t0));case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()};var ge=Object(s.g)((function(){var e=Object(i.b)(),t=Object(s.f)().notebook_id,a=Number(t),r=Object(i.c)(ve),o=Object(i.c)(xe);return Object(n.useEffect)((function(){"WATCH_READY"!==r.state&&"WATCH_WAIT"!==r.state&&"WATCH_ERROR"!==r.state||setTimeout((function(){e(me(a,!0)),e(w(a))}),2e3)}),[e,r,a,o]),Object(u.jsx)("div",{})}));var Oe=Object(s.g)((function(){var e,t=Object(i.b)(),a=Object(s.f)().notebook_id,r=Number(a),o=Object(i.c)(ve),c=Object(i.c)(fe),l=Object(i.c)(k),d=function(){return!(!l.state||"CREATED"!==l.state)||!(!l.state||"RECEIVED"!==l.state)},b=function(){return"WATCH_READY"===o.state||"WATCH_WAIT"===o.state||"WATCH_ERROR"===o.state};Object(n.useEffect)((function(){t(me(r)),t(w(r))}),[t,r]),Object(n.useEffect)((function(){d()&&setTimeout((function(){t(w(r))}),1e3)}),[t,l,r]);var p=o.default_view_path;l.state&&"DONE"===l.state&&l.result&&(p=l.result);var h="";return l.state&&l.result&&"ERROR"===l.state&&(h=l.result),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(ge,{}),Object(u.jsx)(ne,{notebookTitle:o.title,notebookId:Number(a),loadingState:c,waiting:d(),widgetsParams:null===o||void 0===o||null===(e=o.params)||void 0===e?void 0:e.params,watchMode:b(),notebookPath:p}),Object(u.jsx)(ce,{loadingState:c,notebookPath:p,errorMsg:h,waiting:d(),watchMode:b()})]})})]})}));function ye(){return Object(u.jsx)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0",children:Object(u.jsx)("img",{alt:"Mercury",src:"/static/mercury_red.svg",style:{height:"40px",marginLeft:"auto",marginRight:"auto"}})})}var ke=Object(s.g)((function(){var e=Object(i.b)(),t=Object(i.c)(pe),a=Object(i.c)(he);Object(n.useEffect)((function(){e(function(){var e=Object(x.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch notebooks"),e.prev=1,t(be("loading")),e.next=6,c.a.get("/api/v1/notebooks");case 6:a=e.sent,n=a.data,r=n.map((function(e){var t=JSON.parse(e.params);return Object(E.a)(Object(E.a)({},e),{},{params:t})})),t(de(r)),t(be("loaded")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),t(be("error")),console.error("Problem during loading recent notebooks. ".concat(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var r=t.map((function(e,t){return Object(u.jsx)("div",{className:"col-md-4",style:{paddingBottom:"20px"},children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{style:{height:"200px",width:"100%",padding:"1px",overflow:"hidden"},children:Object(u.jsx)("iframe",{className:"thumbnailIframe",width:"200%",height:800,src:"".concat(c.a.defaults.baseURL).concat(e.default_view_path),title:"display",scrolling:"no"})}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:e.title}),Object(u.jsx)("p",{className:"card-text",children:e.params.description}),Object(u.jsxs)("a",{href:"/app/".concat(e.id),className:"btn btn-primary",children:["Open ",Object(u.jsx)("i",{className:"fa fa-arrow-right","aria-hidden":"true"})]})]})]})},"notebook-".concat(e.id,"}"))}));return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(ye,{}),Object(u.jsxs)("div",{className:"container",style:{paddingBottom:"50px"},children:[Object(u.jsx)("h1",{style:{padding:"30px",textAlign:"center"},children:"Welcome!"}),Object(u.jsxs)("div",{className:"row",children:["loading"===a&&Object(u.jsx)("p",{children:"Loading notebooks. Please wait ..."}),"loaded"===a&&0===t.length&&Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"There are no notebooks available. Please add notebook to Mercury server."}),Object(u.jsx)("p",{children:"Command to watch notebook development in Mercury (with automatic refresh):"}),Object(u.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(u.jsxs)("pre",{style:{margin:"0px"},children:["mercury watch ","<path_to_notebook>"]})}),Object(u.jsx)("p",{children:"Command to add notebook to your Mercury server:"}),Object(u.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(u.jsxs)("pre",{style:{margin:"0px"},children:["mercury add ","<path_to_notebook>"]})})]}),"error"===a&&Object(u.jsx)("p",{children:"Problem while loading notebooks. Please try again later or contact Mercury administrator."}),r]})]}),Object(u.jsx)("footer",{className:"footer",style:{position:"absolute",bottom:"0",width:"100%",height:"40px",lineHeight:"40px",backgroundColor:"#f5f5f5"},children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("span",{className:"text-muted",children:["Mercury \xa9"," ",Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://mljar.com",target:"_blank",rel:"noreferrer",children:"MLJAR Sp. z o.o."})]}),Object(u.jsx)("span",{className:"text-muted",style:{float:"right"},children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://mljar.com/pricing",target:"_blank",rel:"noreferrer",children:"Check Mercury Pro"})})]})})]})}));function we(e){var t=e.children;return Object(u.jsx)(u.Fragment,{children:t})}function Ne(){return Object(n.useEffect)((function(){b()}),[]),Object(u.jsx)(we,{children:Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{exact:!0,path:"/",component:ke}),Object(u.jsx)(s.a,{exact:!0,path:"/app/:notebook_id/",component:Oe})]})})}var Se=function(e){var t=e.store;e.history;return Object(u.jsx)(i.a,{store:t,children:Object(u.jsx)(l.a,{children:Object(u.jsx)(Ne,{})})})},Ce=a(63),Te=a(61),Re=a(12),Me=Object(m.b)({name:"version",initialState:{isPro:!1},reducers:{setVersion:function(e,t){var a=t.payload.isPro;e.isPro=a}}}),_e=Me.reducer;Me.actions.setVersion;var Ae,Pe=Object(Te.a)(),Ee=Object(Re.b)({notebooks:le,tasks:O,widgets:S,version:_e}),We=Object(Ce.a)(Object(m.c)()),Fe=(a(113),a(135),a(136),a(137),a(138),a(139),a(140),Object(m.a)({reducer:Ee,middleware:We,preloadedState:Ae}));"http://localhost:3000"===window.location.origin?c.a.defaults.baseURL="http://127.0.0.1:8000":c.a.defaults.baseURL=window.location.origin,document.addEventListener("DOMContentLoaded",(function(){return Object(r.render)(Object(u.jsx)("div",{children:Object(u.jsx)(Se,{store:Fe,history:Pe})}),document.getElementById("root"))}))},92:function(e,t,a){}},[[142,1,2]]]);
//# sourceMappingURL=main.b8e5fc2b.chunk.js.map