(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[2460],{52460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ICurrentUser:()=>i,IUserMenu:()=>a,RendererUserMenu:()=>v,USER:()=>s,User:()=>p,UserMenu:()=>w,getAnonymousUserName:()=>d,moonsOfJupyter:()=>m,requestAPI:()=>h});var r=n(55147);const s="@jupyterlab/user:userDB",i=new r.Token("@jupyterlab/user:ICurrentUser"),a=new r.Token("@jupyterlab/user:IUserMenu");var o=n(58646),u=n(4498),l=n(60977),c=n(79988);async function h(e="",t={}){const n=c.ServerConnection.makeSettings(),r=l.URLExt.join(n.baseUrl,e);let s;try{s=await c.ServerConnection.makeRequest(r,t,n)}catch(e){throw new c.ServerConnection.NetworkError(e)}let i=await s.text();if(i.length>0)try{i=JSON.parse(i)}catch(e){console.log("Not a JSON response body.",s)}if(!s.ok)throw new c.ServerConnection.ResponseError(s,i.message||i);return i}const m=["Metis","Adrastea","Amalthea","Thebe","Io","Europa","Ganymede","Callisto","Themisto","Leda","Ersa","Pandia","Himalia","Lysithea","Elara","Dia","Carpo","Valetudo","Euporie","Eupheme","Helike","Euanthe","Hermippe","Praxidike","Thyone","Thelxinoe","Ananke","Mneme","Orthosie","Harpalyke","Iocaste","Erinome","Aitne","Herse","Taygete","Eukelade","Carme","Isonoe","Autonoe","Philophrosyne","Cyllene","Pasithee","Pasiphae","Sponde","Eurydome","Kalyke","Hegemone","Kale","Kallichore","Chaldene","Arche","Eirene","Kore","Megaclite","Aoede","Callirrhoe","Sinope"],d=()=>m[Math.floor(Math.random()*m.length)];class p{constructor(){this._isReady=!1,this._ready=new o.Signal(this),this._changed=new o.Signal(this),this._fetchUser(),this._isReady=!0,this._ready.emit(!0)}get username(){return this._username}get name(){return this._name}get displayName(){return this._displayName}get initials(){return this._initials}get color(){return this._color}get anonymous(){return this._anonymous}get cursor(){return this._cursor}get isReady(){return this._isReady}get ready(){return this._ready}get changed(){return this._changed}fromJSON(e){this._username=e.username,this._name=e.name,this._displayName=e.displayName,this._initials=e.initials,this._color=e.color,this._anonymous=e.anonymous,this._cursor=e.cursor,this._save()}toJSON(){return{username:this._username,name:this.name,displayName:this._displayName,initials:this._initials,color:this._color,anonymous:this._anonymous,cursor:this._cursor}}_save(){const{localStorage:e}=window;e.setItem(s,JSON.stringify(this.toJSON())),this._changed.emit()}_fetchUser(){let e=u.jS("--username",""),t=u.jS("--usercolor",""),n=u.jS("--initials","");const{localStorage:i}=window,a=i.getItem(s);if(null!==a){const r=JSON.parse(a);this._username=r.username,this._name=""!==e?e:r.name,this._displayName=""!==e?e:r.displayName,this._initials=""!==n?n:r.initials,this._color=""!==t?"#"+t:r.color,this._anonymous=r.anonymous,this._cursor=r.cursor||void 0,""===e&&""===t||this._save()}else{const s=d();this._username=r.UUID.uuid4(),this._name=""!==e?e:"Anonymous "+s,this._displayName=this._name,this._initials=""!==n?n:`A${s.substring(0,1).toLocaleUpperCase()}`,this._color="#"+(""!==t?t:_.getRandomColor().slice(1)),this._anonymous=!0,this._cursor=void 0,this._save()}}}var _;!function(e){const t=["#12A0D3","#17AB30","#CC8500","#A79011","#ee6352","#609DA9","#4BA749","#00A1B3"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(_||(_={}));var y=n(60699),f=n(2968),g=n(96158);class v extends f.MenuBar.Renderer{constructor(e){super(),this._user=e}renderItem(e){let t=this.createItemClass(e),n=this.createItemDataset(e),r=this.createItemARIA(e);return g.h.li(Object.assign({className:t,dataset:n,tabindex:"0",onfocus:e.onfocus},r),this._createUserIcon(),this.renderLabel(e),this.renderIcon(e))}renderLabel(e){let t=this.formatLabel(e);return g.h.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel jp-MenuBar-label"},t)}_createUserIcon(){return this._user.isReady&&this._user.avatar_url?g.h.div({className:"lm-MenuBar-itemIcon p-MenuBar-itemIcon jp-MenuBar-imageIcon"},g.h.img({src:this._user.avatar_url})):this._user.isReady?g.h.div({className:"lm-MenuBar-itemIcon p-MenuBar-itemIcon jp-MenuBar-anonymousIcon",style:{backgroundColor:this._user.color}},g.h.span({},this._user.initials)):g.h.div({className:"lm-MenuBar-itemIcon p-MenuBar-itemIcon jp-MenuBar-anonymousIcon"},y.userIcon)}}class w extends f.Menu{constructor(e){super(e),this._updateLabel=e=>{const t=""!==e.displayName?e.displayName:e.name;this.title.label=t,this.update()},this._user=e.user;const t=""!==this._user.displayName?this._user.displayName:this._user.name;this.title.label=this._user.isReady?t:"",this.title.icon=y.caretDownIcon,this.title.iconClass="jp-UserMenu-caretDownIcon",this._user.ready.connect(this._updateLabel),this._user.changed.connect(this._updateLabel)}dispose(){this._user.ready.disconnect(this._updateLabel),this._user.changed.disconnect(this._updateLabel)}}},4498:(e,t,n)=>{"use strict";n.d(t,{jS:()=>m,jU:()=>u});var r=n(22592),s=n(63417);var i=n(83149),a=n(27061);const o=void 0!==a&&a.release&&/node|io\.js/.test(a.release.name),u="undefined"!=typeof window&&!o;let l;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const c=[],h=()=>{if(void 0===l)if(o){l=r.Ue();const e=a.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];"-"===r[0]?(null!==t&&l.set(t,""),t=r):null!==t?(l.set(t,r),t=null):c.push(r)}null!==t&&l.set(t,"")}else"object"==typeof location?(l=r.Ue(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,n]=e.split("=");l.set(`--${s.NF(t,"-")}`,n),l.set(`-${s.NF(t,"-")}`,n)}}))):l=r.Ue();return l},m=(e,t)=>h().get(e)||t;(e=>h().has(e))("--"+"production")||(e=>{return void 0===(t=o?a.env[e.toUpperCase()]:i.X.getItem(e))?null:t;var t})("production")},22592:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>r,Yu:()=>s});const r=()=>new Map,s=(e,t,n)=>{let r=e.get(t);return void 0===r&&e.set(t,r=n()),r}},83149:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,z:()=>a});let r=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},s=!0;try{"undefined"!=typeof localStorage&&(r=localStorage,s=!1)}catch(e){}const i=r,a=e=>s||addEventListener("storage",e)},63417:(e,t,n)=>{"use strict";n.d(t,{IK:()=>r,NF:()=>a});const r=String.fromCharCode,s=(String.fromCodePoint,/^\s*/g),i=/([A-Z])/g,a=(e,t)=>(e=>e.replace(s,""))(e.replace(i,(e=>`${t}${(e=>e.toLowerCase())(e)}`)));"undefined"!=typeof TextEncoder&&new TextEncoder;let o="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});o&&1===o.decode(new Uint8Array).length&&(o=null)},27061:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var o,u=[],l=!1,c=-1;function h(){l&&o&&(l=!1,o.length?u=o.concat(u):c=-1,u.length&&m())}function m(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(o=u,u=[];++c<t;)o&&o[c].run();c=-1,t=u.length}o=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||a(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}}]);