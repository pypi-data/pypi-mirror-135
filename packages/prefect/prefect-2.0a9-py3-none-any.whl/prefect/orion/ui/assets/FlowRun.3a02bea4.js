import{_ as N,A as d,E as b,m as y}from"./index.70d1c732.js";import{C as A}from"./CopyButton.fb955bcf.js";import{e as D,M as E,f as x,j as B,am as T,s as o,an as z,C as M,H,r as g,o as c,c as f,d as _,a as C,u as a,F as L,t as S,q as U,w as W,g as p,n as $,k as R}from"./vendor.c935fcc5.js";const G={key:0,class:"text-truncate d-flex align-center"},J={class:"ml-5"},K=R(" Flow Version: "),O={class:"font-weight-semibold"},Q=R(" Copy Run ID "),X=D({async setup(Y){let n,m;const s=E(),k=x(null),t=x(s==null?void 0:s.params.id),P=B(s,()=>{t.value=s==null?void 0:s.params.id});T(()=>{P()});const j=o(()=>{var e;return(e=w.value.flow_version)!=null?e:"--"}),q=o(()=>({id:t.value})),r=([n,m]=z(()=>d.query({endpoint:b.flow_run,body:q,options:{pollInterval:5e3}}).fetch()),n=await n,m(),n),F=o(()=>({id:r.response.value.flow_id})),v={flow:d.query({endpoint:b.flow,body:F})},V=o(()=>{var e;return((e=v.flow.response)==null?void 0:e.value)||{}}),w=o(()=>{var e;return((e=r.response)==null?void 0:e.value)||{}}),I=o(()=>{var u,h;const e=[{text:(u=V.value)==null?void 0:u.name},{text:(h=w.value)==null?void 0:h.name,to:""}],i=s.fullPath.includes("/timeline"),l=s.fullPath.includes("/radar");return(i||l)&&(e[1].to=`/flow-run/${t.value}`,i&&e.push({text:"Timeline"}),l&&e.push({text:"Radar"})),e});return M(()=>{r.stopPolling(),d.queries.delete(r.id)}),H(()=>{var e;k.value=((e=s.hash)==null?void 0:e.substr(1))||"task_runs"}),B(t,()=>{!t.value||v.flow.fetch()}),(e,i)=>{const l=g("bread-crumbs"),u=g("router-view");return c(),f("div",null,[_("div",{class:$(["d-flex align-center justify-space-between mb-2 py-1 position-relative z-1",{blur:a(s).fullPath.includes("/radar")}])},[C(l,{class:"flex-grow-1",crumbs:a(I),icon:"pi-flow-run"},null,8,["crumbs"]),a(s).fullPath.includes("/radar")?(c(),f(L,{key:0},[a(y).sm?(c(),f("div",G,[_("span",J,[K,_("span",O,S(a(j)),1)]),a(y).md?(c(),U(A,{key:0,class:"ml-1",value:t.value,toast:"Run ID was copied to clipboard"},{default:W(()=>[Q]),_:1},8,["value"])):p("",!0)])):p("",!0)],64)):p("",!0)],2),C(u)])}}});var te=N(X,[["__scopeId","data-v-3db3f758"]]);export{te as default};
